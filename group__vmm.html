<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>UnnamedOS: VMM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UnnamedOS
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__vmm.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">VMM<div class="ingroups"><a class="el" href="group__kernel.html">Kernel</a> &raquo; <a class="el" href="group__mem.html">Memory</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Virtual Memory Manager.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for VMM:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__vmm.png" border="0" alt="" usemap="#group____vmm"/>
<map name="group____vmm" id="group____vmm">
<area shape="rect" id="node1" href="group__mem.html" title="Memory" alt="" coords="5,5,75,31"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvmm__domain__t.html">vmm_domain_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">We use two domains, kernel and user memory.  <a href="structvmm__domain__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionvmm__virtual__address__t.html">vmm_virtual_address_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A virtual address.  <a href="unionvmm__virtual__address__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpage__directory__entry__t.html">page_directory_entry_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry in a page directory.  <a href="structpage__directory__entry__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpage__table__entry__t.html">page_table_entry_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry in a page table.  <a href="structpage__table__entry__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5f2e1fcf0055d20ce17664b1027bb9eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5f2e1fcf0055d20ce17664b1027bb9eb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga5f2e1fcf0055d20ce17664b1027bb9eb">ENTRIES</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:ga5f2e1fcf0055d20ce17664b1027bb9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of entries in page directories and tables <br /></td></tr>
<tr class="separator:ga5f2e1fcf0055d20ce17664b1027bb9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7d467c1d283fdfa1f2081ba1e0d01b6e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>&#160;&#160;&#160;(<a class="el" href="group__vmm.html#ga5f2e1fcf0055d20ce17664b1027bb9eb">ENTRIES</a> * sizeof(<a class="el" href="structpage__directory__entry__t.html">page_directory_entry_t</a>))</td></tr>
<tr class="memdesc:ga7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bytes per page directory "happens" to equal the size of a page. <br /></td></tr>
<tr class="separator:ga7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ad3f75a4e38fd9bbed917c71ca4e9e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5ad3f75a4e38fd9bbed917c71ca4e9e0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga5ad3f75a4e38fd9bbed917c71ca4e9e0">MEMORY_SIZE</a>&#160;&#160;&#160;0x100000000</td></tr>
<tr class="memdesc:ga5ad3f75a4e38fd9bbed917c71ca4e9e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">4GB address space <br /></td></tr>
<tr class="separator:ga5ad3f75a4e38fd9bbed917c71ca4e9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafba5a8c4502f72ca752c603879fc2d50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafba5a8c4502f72ca752c603879fc2d50"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gafba5a8c4502f72ca752c603879fc2d50">PAGE_NUMBER</a>&#160;&#160;&#160;(<a class="el" href="group__vmm.html#ga5ad3f75a4e38fd9bbed917c71ca4e9e0">MEMORY_SIZE</a> / <a class="el" href="group__vmm.html#ga7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>)</td></tr>
<tr class="memdesc:gafba5a8c4502f72ca752c603879fc2d50"><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of pages <br /></td></tr>
<tr class="separator:gafba5a8c4502f72ca752c603879fc2d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0db83ce7c010bbdc10133c076cf3c9cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga0db83ce7c010bbdc10133c076cf3c9cb">VMM_PAGEDIR</a>&#160;&#160;&#160;((<a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a>*) 0xFFFFF000)</td></tr>
<tr class="memdesc:ga0db83ce7c010bbdc10133c076cf3c9cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">the active page directory's address  <a href="#ga0db83ce7c010bbdc10133c076cf3c9cb">More...</a><br /></td></tr>
<tr class="separator:ga0db83ce7c010bbdc10133c076cf3c9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ef686d2aa844abbf0399bc95c890dc9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga7ef686d2aa844abbf0399bc95c890dc9">VMM_PAGETAB</a>(i)&#160;&#160;&#160;((<a class="el" href="group__vmm.html#ga304ac64d9d4a9ba641f3ff26dec928e3">page_table_t</a>*) (0xFFC00000 + (i) * PAGE_SIZE))</td></tr>
<tr class="memdesc:ga7ef686d2aa844abbf0399bc95c890dc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">the address of a page table from the active page directory  <a href="#ga7ef686d2aa844abbf0399bc95c890dc9">More...</a><br /></td></tr>
<tr class="separator:ga7ef686d2aa844abbf0399bc95c890dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gadeb6d1647eeda1844a2d3596a6e72b02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadeb6d1647eeda1844a2d3596a6e72b02"></a>
typedef <a class="el" href="structpage__directory__entry__t.html">page_directory_entry_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a></td></tr>
<tr class="memdesc:gadeb6d1647eeda1844a2d3596a6e72b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">a page directory is a pointer to its first entry <br /></td></tr>
<tr class="separator:gadeb6d1647eeda1844a2d3596a6e72b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga304ac64d9d4a9ba641f3ff26dec928e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga304ac64d9d4a9ba641f3ff26dec928e3"></a>
typedef <a class="el" href="structpage__table__entry__t.html">page_table_entry_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga304ac64d9d4a9ba641f3ff26dec928e3">page_table_t</a></td></tr>
<tr class="memdesc:ga304ac64d9d4a9ba641f3ff26dec928e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">a page table is a pointer to its first entry <br /></td></tr>
<tr class="separator:ga304ac64d9d4a9ba641f3ff26dec928e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga73fc2ab9b3d2e673d34b9a49f65cafcc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> { <b>VMM_KERNEL</b> = 0b0, 
<b>VMM_USER</b> = 0b1, 
<b>VMM_WRITABLE</b> = 0b100
 }<tr class="memdesc:ga73fc2ab9b3d2e673d34b9a49f65cafcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether we are working with kernel or user memory.  <a href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga73fc2ab9b3d2e673d34b9a49f65cafcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga29929b27b1ddfc99ab409bb3149df217"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217">vmm_destroy_page_table</a> (uint16_t page_table)</td></tr>
<tr class="memdesc:ga29929b27b1ddfc99ab409bb3149df217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a page table in the current page directory.  <a href="#ga29929b27b1ddfc99ab409bb3149df217">More...</a><br /></td></tr>
<tr class="separator:ga29929b27b1ddfc99ab409bb3149df217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b75ab1673d9bebdbe2f8e07759ce75d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d">vmm_create_page_directory</a> ()</td></tr>
<tr class="memdesc:ga5b75ab1673d9bebdbe2f8e07759ce75d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an empty page directory.  <a href="#ga5b75ab1673d9bebdbe2f8e07759ce75d">More...</a><br /></td></tr>
<tr class="separator:ga5b75ab1673d9bebdbe2f8e07759ce75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab7f4a02de246b1d5d5728f19b25a5e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6">vmm_destroy_page_directory</a> (<a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *dir_phys)</td></tr>
<tr class="memdesc:gaab7f4a02de246b1d5d5728f19b25a5e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a page directory.  <a href="#gaab7f4a02de246b1d5d5728f19b25a5e6">More...</a><br /></td></tr>
<tr class="separator:gaab7f4a02de246b1d5d5728f19b25a5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83a06334c1c593e06779d150d1efc082"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082">vmm_refresh_page_directory</a> (<a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *dir_phys)</td></tr>
<tr class="memdesc:ga83a06334c1c593e06779d150d1efc082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refreshes the page directory entries that are shared across page directories.  <a href="#ga83a06334c1c593e06779d150d1efc082">More...</a><br /></td></tr>
<tr class="separator:ga83a06334c1c593e06779d150d1efc082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae21ea3cbc0bddb5ade0251b4bfb2946c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c">vmm_load_page_directory</a> (<a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *new_directory)</td></tr>
<tr class="memdesc:gae21ea3cbc0bddb5ade0251b4bfb2946c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a new page directory.  <a href="#gae21ea3cbc0bddb5ade0251b4bfb2946c">More...</a><br /></td></tr>
<tr class="separator:gae21ea3cbc0bddb5ade0251b4bfb2946c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab011b4635615c4046c5d0afc72c5ef25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25">vmm_modify_page_directory</a> (<a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *new_directory)</td></tr>
<tr class="memdesc:gab011b4635615c4046c5d0afc72c5ef25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a page directory for temporary modification.  <a href="#gab011b4635615c4046c5d0afc72c5ef25">More...</a><br /></td></tr>
<tr class="separator:gab011b4635615c4046c5d0afc72c5ef25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4627b5873ec19276ccf28f254227c01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01">vmm_modified_page_directory</a> ()</td></tr>
<tr class="memdesc:gaa4627b5873ec19276ccf28f254227c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends a page directory modification.  <a href="#gaa4627b5873ec19276ccf28f254227c01">More...</a><br /></td></tr>
<tr class="separator:gaa4627b5873ec19276ccf28f254227c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ec502fa0597ddc39ccefc5e41ed7068"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structpage__table__entry__t.html">page_table_entry_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068">vmm_get_page_table</a> (<a class="el" href="structpage__directory__entry__t.html">page_directory_entry_t</a> *dir_entry, <a class="el" href="unionvmm__virtual__address__t.html">vmm_virtual_address_t</a> vaddr)</td></tr>
<tr class="memdesc:ga4ec502fa0597ddc39ccefc5e41ed7068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a virtual or physical address to a page table in memory.  <a href="#ga4ec502fa0597ddc39ccefc5e41ed7068">More...</a><br /></td></tr>
<tr class="separator:ga4ec502fa0597ddc39ccefc5e41ed7068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca2ad6adc3d01b4f69741bb3063b44bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structpage__table__entry__t.html">page_table_entry_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb">vmm_get_page_table_entry</a> (<a class="el" href="structpage__directory__entry__t.html">page_directory_entry_t</a> *dir_entry, <a class="el" href="unionvmm__virtual__address__t.html">vmm_virtual_address_t</a> vaddr)</td></tr>
<tr class="memdesc:gaca2ad6adc3d01b4f69741bb3063b44bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a virtual or physical address to a page table entry in memory.  <a href="#gaca2ad6adc3d01b4f69741bb3063b44bb">More...</a><br /></td></tr>
<tr class="separator:gaca2ad6adc3d01b4f69741bb3063b44bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab536804df3329c431fdf5c4486f09c23"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23">vmm_get_domain</a> (<a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:gab536804df3329c431fdf5c4486f09c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts a domain from the given flags.  <a href="#gab536804df3329c431fdf5c4486f09c23">More...</a><br /></td></tr>
<tr class="separator:gab536804df3329c431fdf5c4486f09c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0f722ed8ab308a12be211f1ef561143"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143">vmm_is_in_domain</a> (void *vaddr, <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> *domain)</td></tr>
<tr class="memdesc:gaa0f722ed8ab308a12be211f1ef561143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a virtual address belongs to a given domain.  <a href="#gaa0f722ed8ab308a12be211f1ef561143">More...</a><br /></td></tr>
<tr class="separator:gaa0f722ed8ab308a12be211f1ef561143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae814d9b3e619cc1b3acaa94a336157c8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8">vmm_get_domain_from_address</a> (void *vaddr)</td></tr>
<tr class="memdesc:gae814d9b3e619cc1b3acaa94a336157c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the domain a virtual address belongs to.  <a href="#gae814d9b3e619cc1b3acaa94a336157c8">More...</a><br /></td></tr>
<tr class="separator:gae814d9b3e619cc1b3acaa94a336157c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga408e67ff0d3c015f67a04d649a193677"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677">vmm_domain_check</a> (void *vaddr, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga408e67ff0d3c015f67a04d649a193677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a virtual address might be accessed with the given flags.  <a href="#ga408e67ff0d3c015f67a04d649a193677">More...</a><br /></td></tr>
<tr class="separator:ga408e67ff0d3c015f67a04d649a193677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e7053cfb721b4d0e489b95df9063ad5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5">vmm_map</a> (void *_vaddr, void *paddr, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga3e7053cfb721b4d0e489b95df9063ad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps the given page into memory.  <a href="#ga3e7053cfb721b4d0e489b95df9063ad5">More...</a><br /></td></tr>
<tr class="separator:ga3e7053cfb721b4d0e489b95df9063ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga712a6069455f36990ea8af974ba0a1e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3">vmm_unmap</a> (void *_vaddr)</td></tr>
<tr class="memdesc:ga712a6069455f36990ea8af974ba0a1e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps the given page from memory.  <a href="#ga712a6069455f36990ea8af974ba0a1e3">More...</a><br /></td></tr>
<tr class="separator:ga712a6069455f36990ea8af974ba0a1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36be7c83d887d2111b317b5ac796916f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f">vmm_map_range_detailed</a> (void *vaddr, void *paddr, size_t len, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags, uint8_t map)</td></tr>
<tr class="memdesc:ga36be7c83d887d2111b317b5ac796916f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps or unmaps the given page(s) into memory.  <a href="#ga36be7c83d887d2111b317b5ac796916f">More...</a><br /></td></tr>
<tr class="separator:ga36be7c83d887d2111b317b5ac796916f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe1dd6fb39c3e7a95f03828bcf01bebe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe">vmm_map_range</a> (void *vaddr, void *paddr, size_t len, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:gafe1dd6fb39c3e7a95f03828bcf01bebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps the given page(s) into memory.  <a href="#gafe1dd6fb39c3e7a95f03828bcf01bebe">More...</a><br /></td></tr>
<tr class="separator:gafe1dd6fb39c3e7a95f03828bcf01bebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76fc2abe20698540ecc6ab14ac393785"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785">vmm_unmap_range</a> (void *vaddr, size_t len)</td></tr>
<tr class="memdesc:ga76fc2abe20698540ecc6ab14ac393785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps the given page(s) from memory.  <a href="#ga76fc2abe20698540ecc6ab14ac393785">More...</a><br /></td></tr>
<tr class="separator:ga76fc2abe20698540ecc6ab14ac393785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae24357af46126c4386fa4799eb660854"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gae24357af46126c4386fa4799eb660854">vmm_get_physical_address</a> (void *_vaddr)</td></tr>
<tr class="memdesc:gae24357af46126c4386fa4799eb660854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates a virtual address into a physical address.  <a href="#gae24357af46126c4386fa4799eb660854">More...</a><br /></td></tr>
<tr class="separator:gae24357af46126c4386fa4799eb660854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae40fd6d42d13bf563fd860826b16e8e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gae40fd6d42d13bf563fd860826b16e8e4">vmm_dump</a> ()</td></tr>
<tr class="memdesc:gae40fd6d42d13bf563fd860826b16e8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the current page directory.  <a href="#gae40fd6d42d13bf563fd860826b16e8e4">More...</a><br /></td></tr>
<tr class="separator:gae40fd6d42d13bf563fd860826b16e8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9b3b29083204cd04643f125d9cc4447"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447">vmm_find_free</a> (size_t len, <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> *domain)</td></tr>
<tr class="memdesc:gac9b3b29083204cd04643f125d9cc4447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds unmapped pages.  <a href="#gac9b3b29083204cd04643f125d9cc4447">More...</a><br /></td></tr>
<tr class="separator:gac9b3b29083204cd04643f125d9cc4447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94d0d5a556b0b3fe234349138fa1ba2d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__pmm.html#ga4873e44c48caf8989d18f04996f80354">pmm_flags_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga94d0d5a556b0b3fe234349138fa1ba2d">vmm_get_pmm_flags</a> (<a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga94d0d5a556b0b3fe234349138fa1ba2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates VMM into PMM flags.  <a href="#ga94d0d5a556b0b3fe234349138fa1ba2d">More...</a><br /></td></tr>
<tr class="separator:ga94d0d5a556b0b3fe234349138fa1ba2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37cd05a420e7bbc80e9df22d1d7a8661"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661">vmm_map_physical_memory</a> (void *paddr, size_t len, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga37cd05a420e7bbc80e9df22d1d7a8661"><td class="mdescLeft">&#160;</td><td class="mdescRight">If necessary, maps the given page(s) somewhere into memory.  <a href="#ga37cd05a420e7bbc80e9df22d1d7a8661">More...</a><br /></td></tr>
<tr class="separator:ga37cd05a420e7bbc80e9df22d1d7a8661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26bea35e9465b7d5f4cb6db78bcb3aff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff">vmm_unmap_physical_memory</a> (void *vaddr, size_t len)</td></tr>
<tr class="memdesc:ga26bea35e9465b7d5f4cb6db78bcb3aff"><td class="mdescLeft">&#160;</td><td class="mdescRight">If necessary, unmaps the given page(s) from memory.  <a href="#ga26bea35e9465b7d5f4cb6db78bcb3aff">More...</a><br /></td></tr>
<tr class="separator:ga26bea35e9465b7d5f4cb6db78bcb3aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1e8bf6d477409b2365a056c29afafd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9">vmm_use</a> (void *vaddr, void *paddr, size_t len, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:gad1e8bf6d477409b2365a056c29afafd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the given page(s) as used and maps them into memory.  <a href="#gad1e8bf6d477409b2365a056c29afafd9">More...</a><br /></td></tr>
<tr class="separator:gad1e8bf6d477409b2365a056c29afafd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7555fa9d1cba25633588a82d2622f55f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f">vmm_use_physical_memory</a> (void *paddr, size_t len, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga7555fa9d1cba25633588a82d2622f55f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the given page(s) as used and maps them somewhere into memory.  <a href="#ga7555fa9d1cba25633588a82d2622f55f">More...</a><br /></td></tr>
<tr class="separator:ga7555fa9d1cba25633588a82d2622f55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10b915c633d54e1f9284277256611276"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga10b915c633d54e1f9284277256611276">vmm_use_virtual_memory</a> (void *vaddr, size_t len, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga10b915c633d54e1f9284277256611276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks some page(s) as used and maps them into memory.  <a href="#ga10b915c633d54e1f9284277256611276">More...</a><br /></td></tr>
<tr class="separator:ga10b915c633d54e1f9284277256611276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fa0f3af01af3d3ba544031afafa2d5f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f">vmm_alloc</a> (size_t len, <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a> flags)</td></tr>
<tr class="memdesc:ga8fa0f3af01af3d3ba544031afafa2d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks some page(s) as used and maps them somewhere into memory.  <a href="#ga8fa0f3af01af3d3ba544031afafa2d5f">More...</a><br /></td></tr>
<tr class="separator:ga8fa0f3af01af3d3ba544031afafa2d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75aa07ed605b2e381cdd80fdae0ee126"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126">vmm_free</a> (void *vaddr, size_t len)</td></tr>
<tr class="memdesc:ga75aa07ed605b2e381cdd80fdae0ee126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the given page(s) and unmaps them from memory.  <a href="#ga75aa07ed605b2e381cdd80fdae0ee126">More...</a><br /></td></tr>
<tr class="separator:ga75aa07ed605b2e381cdd80fdae0ee126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb68f35006f91ee39dc4b77eb84d29b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gabb68f35006f91ee39dc4b77eb84d29b3">vmm_enable_domain_check</a> (uint8_t enable)</td></tr>
<tr class="memdesc:gabb68f35006f91ee39dc4b77eb84d29b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables domain checking.  <a href="#gabb68f35006f91ee39dc4b77eb84d29b3">More...</a><br /></td></tr>
<tr class="separator:gabb68f35006f91ee39dc4b77eb84d29b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadef373f9b9c3be4e9176224263fa4335"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335">vmm_init</a> ()</td></tr>
<tr class="memdesc:gadef373f9b9c3be4e9176224263fa4335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the VMM.  <a href="#gadef373f9b9c3be4e9176224263fa4335">More...</a><br /></td></tr>
<tr class="separator:gadef373f9b9c3be4e9176224263fa4335"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga541a95e3358fe27930264a7308936074"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga541a95e3358fe27930264a7308936074"></a>
static <a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga541a95e3358fe27930264a7308936074">page_directory</a> = 0</td></tr>
<tr class="memdesc:ga541a95e3358fe27930264a7308936074"><td class="mdescLeft">&#160;</td><td class="mdescRight">the current page directory <br /></td></tr>
<tr class="separator:ga541a95e3358fe27930264a7308936074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30b0de03fa5e58c0350bc8f2c8d82fd4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga30b0de03fa5e58c0350bc8f2c8d82fd4"></a>
static <a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga30b0de03fa5e58c0350bc8f2c8d82fd4">old_directory</a> = 0</td></tr>
<tr class="memdesc:ga30b0de03fa5e58c0350bc8f2c8d82fd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">for temporary modifications <br /></td></tr>
<tr class="separator:ga30b0de03fa5e58c0350bc8f2c8d82fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03a51665f5606322b507e491b26a4c27"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga03a51665f5606322b507e491b26a4c27"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga03a51665f5606322b507e491b26a4c27">old_interrupts</a> = 0</td></tr>
<tr class="memdesc:ga03a51665f5606322b507e491b26a4c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">for temporary modifications <br /></td></tr>
<tr class="separator:ga03a51665f5606322b507e491b26a4c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe6b0fd20897529ef29fb891436d3746"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gabe6b0fd20897529ef29fb891436d3746">kernel_domain</a></td></tr>
<tr class="memdesc:gabe6b0fd20897529ef29fb891436d3746"><td class="mdescLeft">&#160;</td><td class="mdescRight">We use 0-1GiB as kernel memory.  <a href="#gabe6b0fd20897529ef29fb891436d3746">More...</a><br /></td></tr>
<tr class="separator:gabe6b0fd20897529ef29fb891436d3746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcb5f15c03ff4ee10ec6c31adab63457"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#gabcb5f15c03ff4ee10ec6c31adab63457">user_domain</a></td></tr>
<tr class="memdesc:gabcb5f15c03ff4ee10ec6c31adab63457"><td class="mdescLeft">&#160;</td><td class="mdescRight">The memory 1GiB-4GiB is process-specific.  <a href="#gabcb5f15c03ff4ee10ec6c31adab63457">More...</a><br /></td></tr>
<tr class="separator:gabcb5f15c03ff4ee10ec6c31adab63457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f6d1ff223d41754e36c8d6b38edfe25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1f6d1ff223d41754e36c8d6b38edfe25"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmm.html#ga1f6d1ff223d41754e36c8d6b38edfe25">domain_check_enabled</a> = 0</td></tr>
<tr class="memdesc:ga1f6d1ff223d41754e36c8d6b38edfe25"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether domain checking is performed <br /></td></tr>
<tr class="separator:ga1f6d1ff223d41754e36c8d6b38edfe25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Virtual Memory Manager. </p>
<p>The VMM manages paging and memory contexts. It maps virtual to physical memory, allocates and frees virtual memory and switches page directories. </p><dl class="section see"><dt>See also</dt><dd><a href="http://wiki.osdev.org/Paging">http://wiki.osdev.org/Paging</a> </dd>
<dd>
<a href="http://www.lowlevel.eu/wiki/Paging">http://www.lowlevel.eu/wiki/Paging</a> </dd>
<dd>
<a href="http://www.rohitab.com/discuss/topic/31139-tutorial-paging-memory-mapping-with-a-recursive-page-directory/">http://www.rohitab.com/discuss/topic/31139-tutorial-paging-memory-mapping-with-a-recursive-page-directory/</a> </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga0db83ce7c010bbdc10133c076cf3c9cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VMM_PAGEDIR&#160;&#160;&#160;((<a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a>*) 0xFFFFF000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the active page directory's address </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. ">vmm_init</a> </dd></dl>

<p>Definition at line <a class="el" href="vmm_8h_source.html#l00014">14</a> of file <a class="el" href="vmm_8h_source.html">vmm.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7ef686d2aa844abbf0399bc95c890dc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VMM_PAGETAB</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="group__vmm.html#ga304ac64d9d4a9ba641f3ff26dec928e3">page_table_t</a>*) (0xFFC00000 + (i) * PAGE_SIZE))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the address of a page table from the active page directory </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. ">vmm_init</a> </dd></dl>

<p>Definition at line <a class="el" href="vmm_8h_source.html#l00016">16</a> of file <a class="el" href="vmm_8h_source.html">vmm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga73fc2ab9b3d2e673d34b9a49f65cafcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether we are working with kernel or user memory. </p>
<p>This controls permissions and in which domain memory is stored. </p>

<p>Definition at line <a class="el" href="vmm_8h_source.html#l00020">20</a> of file <a class="el" href="vmm_8h_source.html">vmm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8fa0f3af01af3d3ba544031afafa2d5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * vmm_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks some page(s) as used and maps them somewhere into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>the number of bytes to be mapped </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the virtual address of the newly mapped memory </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00511">511</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_cgraph.png" border="0" usemap="#group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_cgraph" alt=""/></div>
<map name="group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_cgraph" id="group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_cgraph">
<area shape="rect" id="node2" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="841,562,927,587"/>
<area shape="rect" id="node9" href="group__vmm.html#ga94d0d5a556b0b3fe234349138fa1ba2d" title="Translates VMM into PMM flags. " alt="" coords="138,461,287,486"/>
<area shape="rect" id="node10" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="370,119,480,145"/>
<area shape="rect" id="node15" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1037,667,1164,693"/>
<area shape="rect" id="node16" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="150,510,275,535"/>
<area shape="rect" id="node3" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1045,454,1156,479"/>
<area shape="rect" id="node6" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1257,503,1337,529"/>
<area shape="rect" id="node4" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1235,454,1359,479"/>
<area shape="rect" id="node5" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1231,235,1363,261"/>
<area shape="rect" id="node7" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1418,429,1532,454"/>
<area shape="rect" id="node8" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1413,503,1537,529"/>
<area shape="rect" id="node11" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="562,94,749,119"/>
<area shape="rect" id="node12" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="822,43,947,69"/>
<area shape="rect" id="node13" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="810,297,959,335"/>
<area shape="rect" id="node14" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1026,274,1175,299"/>
<area shape="rect" id="node17" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="335,510,514,535"/>
<area shape="rect" id="node18" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="813,611,956,637"/>
<area shape="rect" id="node21" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="614,510,697,535"/>
<area shape="rect" id="node23" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="606,437,705,462"/>
<area shape="rect" id="node19" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1020,605,1181,643"/>
<area shape="rect" id="node20" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1229,611,1365,637"/>
<area shape="rect" id="node22" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="830,461,938,486"/>
<area shape="rect" id="node24" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="797,411,972,437"/>
<area shape="rect" id="node25" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1060,503,1141,529"/>
</map>
</div>
</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_icgraph.png" border="0" usemap="#group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_icgraph" alt=""/></div>
<map name="group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_icgraph" id="group__vmm_ga8fa0f3af01af3d3ba544031afafa2d5f_icgraph">
<area shape="rect" id="node2" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="138,55,283,80"/>
<area shape="rect" id="node6" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="145,104,276,129"/>
<area shape="rect" id="node3" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="331,5,465,31"/>
<area shape="rect" id="node4" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="336,55,460,80"/>
<area shape="rect" id="node5" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="513,55,625,80"/>
<area shape="rect" id="node7" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="341,104,454,129"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5b75ab1673d9bebdbe2f8e07759ce75d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> * vmm_create_page_directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an empty page directory. </p>
<p>It itself is mapped into the last page table. </p><dl class="section return"><dt>Returns</dt><dd>the physical address of the new page directory </dd></dl>
<p>Maps the last entry to itself, see <a class="el" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. ">vmm_init()</a> for a detailed explanation. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00072">72</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_cgraph.png" border="0" usemap="#group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_cgraph" alt=""/></div>
<map name="group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_cgraph" id="group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_cgraph">
<area shape="rect" id="node2" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1181,94,1266,119"/>
<area shape="rect" id="node7" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1757,397,1871,422"/>
<area shape="rect" id="node9" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="244,707,438,733"/>
<area shape="rect" id="node26" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="264,645,418,683"/>
<area shape="rect" id="node3" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1384,194,1495,219"/>
<area shape="rect" id="node6" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1596,145,1676,170"/>
<area shape="rect" id="node4" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1574,194,1698,219"/>
<area shape="rect" id="node5" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1570,321,1702,346"/>
<area shape="rect" id="node8" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1752,145,1876,170"/>
<area shape="rect" id="node10" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1161,714,1286,739"/>
<area shape="rect" id="node11" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="709,625,819,650"/>
<area shape="rect" id="node15" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1376,511,1503,537"/>
<area shape="rect" id="node16" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="494,567,619,593"/>
<area shape="rect" id="node12" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="901,613,1088,638"/>
<area shape="rect" id="node13" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1149,397,1298,435"/>
<area shape="rect" id="node14" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1365,295,1514,321"/>
<area shape="rect" id="node17" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="674,461,853,486"/>
<area shape="rect" id="node18" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1152,511,1295,537"/>
<area shape="rect" id="node21" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="953,346,1037,371"/>
<area shape="rect" id="node23" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="946,219,1044,245"/>
<area shape="rect" id="node19" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1359,449,1520,487"/>
<area shape="rect" id="node20" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1568,455,1704,481"/>
<area shape="rect" id="node22" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1169,245,1277,270"/>
<area shape="rect" id="node24" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1136,143,1311,169"/>
<area shape="rect" id="node25" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1399,145,1480,170"/>
<area shape="rect" id="node27" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="486,486,626,511"/>
</map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_icgraph.png" border="0" usemap="#group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_icgraph" alt=""/></div>
<map name="group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_icgraph" id="group__vmm_ga5b75ab1673d9bebdbe2f8e07759ce75d_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="278,5,353,31"/>
<area shape="rect" id="node3" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="618,107,730,132"/>
<area shape="rect" id="node4" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="244,107,388,132"/>
<area shape="rect" id="node7" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="251,180,381,205"/>
<area shape="rect" id="node5" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="436,107,570,132"/>
<area shape="rect" id="node6" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="441,156,565,181"/>
<area shape="rect" id="node8" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="446,205,560,231"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaab7f4a02de246b1d5d5728f19b25a5e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_destroy_page_directory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td>
          <td class="paramname"><em>dir_phys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a page directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_phys</td><td>the physical address of the page directory to be destroyed </td></tr>
  </table>
  </dd>
</dl>
<p>Operates on the directory we want to destroy.</p>
<p>Deletes any unique page tables associated with this directory:</p>
<p>First VM86, then user domain page tables.</p>
<p>Frees the page directory itself. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00090">90</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_cgraph.png" border="0" usemap="#group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_cgraph" alt=""/></div>
<map name="group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_cgraph" id="group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="250,293,445,319"/>
<area shape="rect" id="node24" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1143,5,1318,31"/>
<area shape="rect" id="node26" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="271,124,425,163"/>
<area shape="rect" id="node3" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1168,56,1292,81"/>
<area shape="rect" id="node4" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="716,688,825,713"/>
<area shape="rect" id="node10" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1383,639,1510,664"/>
<area shape="rect" id="node11" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="500,293,626,319"/>
<area shape="rect" id="node5" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1764,500,1878,525"/>
<area shape="rect" id="node6" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="908,288,1095,313"/>
<area shape="rect" id="node9" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1577,316,1709,341"/>
<area shape="rect" id="node7" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1155,309,1305,348"/>
<area shape="rect" id="node8" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1371,316,1521,341"/>
<area shape="rect" id="node12" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="681,293,860,319"/>
<area shape="rect" id="node13" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1158,580,1302,605"/>
<area shape="rect" id="node16" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="960,373,1043,399"/>
<area shape="rect" id="node23" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="952,208,1051,233"/>
<area shape="rect" id="node14" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1366,576,1527,615"/>
<area shape="rect" id="node15" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1575,583,1711,608"/>
<area shape="rect" id="node17" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1187,424,1273,449"/>
<area shape="rect" id="node22" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1176,208,1284,233"/>
<area shape="rect" id="node18" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1391,421,1501,447"/>
<area shape="rect" id="node20" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1603,267,1683,292"/>
<area shape="rect" id="node19" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1581,421,1705,447"/>
<area shape="rect" id="node21" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1759,267,1883,292"/>
<area shape="rect" id="node25" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1406,5,1487,31"/>
<area shape="rect" id="node27" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="493,197,633,223"/>
</map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_icgraph.png" border="0" usemap="#group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_icgraph" alt=""/></div>
<map name="group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_icgraph" id="group__vmm_gaab7f4a02de246b1d5d5728f19b25a5e6_icgraph">
<area shape="rect" id="node2" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="250,31,347,56"/>
<area shape="rect" id="node3" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="395,5,514,31"/>
<area shape="rect" id="node4" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="562,31,724,56"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga29929b27b1ddfc99ab409bb3149df217"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vmm_destroy_page_table </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>page_table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys a page table in the current page directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_table</td><td>the index of the page table to destroy </td></tr>
  </table>
  </dd>
</dl>
<p>Frees the page table memory using its physical address.</p>
<p>Tells the page directory that this page table was deleted. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00061">61</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga29929b27b1ddfc99ab409bb3149df217_cgraph.png" border="0" usemap="#group__vmm_ga29929b27b1ddfc99ab409bb3149df217_cgraph" alt=""/></div>
<map name="group__vmm_ga29929b27b1ddfc99ab409bb3149df217_cgraph" id="group__vmm_ga29929b27b1ddfc99ab409bb3149df217_cgraph">
<area shape="rect" id="node2" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="253,31,335,56"/>
<area shape="rect" id="node6" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="228,80,360,105"/>
<area shape="rect" id="node3" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="408,31,488,56"/>
<area shape="rect" id="node4" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="541,5,655,31"/>
<area shape="rect" id="node5" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="536,55,659,80"/>
</map>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga29929b27b1ddfc99ab409bb3149df217_icgraph.png" border="0" usemap="#group__vmm_ga29929b27b1ddfc99ab409bb3149df217_icgraph" alt=""/></div>
<map name="group__vmm_ga29929b27b1ddfc99ab409bb3149df217_icgraph" id="group__vmm_ga29929b27b1ddfc99ab409bb3149df217_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="1032,449,1229,474"/>
<area shape="rect" id="node6" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="228,478,326,503"/>
<area shape="rect" id="node3" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1791,455,1888,481"/>
<area shape="rect" id="node4" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1967,406,2086,431"/>
<area shape="rect" id="node5" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="2142,431,2304,457"/>
<area shape="rect" id="node7" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="374,422,554,447"/>
<area shape="rect" id="node8" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="609,129,734,154"/>
<area shape="rect" id="node33" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="602,422,742,447"/>
<area shape="rect" id="node9" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="790,310,984,335"/>
<area shape="rect" id="node16" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1774,103,1905,129"/>
<area shape="rect" id="node29" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="847,53,927,78"/>
<area shape="rect" id="node31" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="1284,154,1461,179"/>
<area shape="rect" id="node32" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1575,53,1660,78"/>
<area shape="rect" id="node10" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1277,258,1468,283"/>
<area shape="rect" id="node18" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="1033,393,1228,418"/>
<area shape="rect" id="node11" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1580,306,1655,331"/>
<area shape="rect" id="node12" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="2167,255,2279,281"/>
<area shape="rect" id="node13" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1767,279,1912,305"/>
<area shape="rect" id="node14" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1960,305,2094,330"/>
<area shape="rect" id="node15" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1965,255,2088,281"/>
<area shape="rect" id="node17" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1970,103,2083,129"/>
<area shape="rect" id="node19" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1283,393,1462,418"/>
<area shape="rect" id="node20" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1521,355,1714,381"/>
<area shape="rect" id="node23" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1516,405,1719,430"/>
<area shape="rect" id="node24" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1542,555,1693,581"/>
<area shape="rect" id="node21" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1805,355,1873,381"/>
<area shape="rect" id="node22" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1798,406,1881,431"/>
<area shape="rect" id="node25" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1795,531,1884,557"/>
<area shape="rect" id="node28" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1802,581,1877,606"/>
<area shape="rect" id="node26" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1984,531,2070,557"/>
<area shape="rect" id="node27" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="2193,531,2253,557"/>
<area shape="rect" id="node30" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="1036,53,1226,78"/>
<area shape="rect" id="node34" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="810,401,964,439"/>
<area shape="rect" id="node35" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1577,506,1658,531"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga408e67ff0d3c015f67a04d649a193677"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t vmm_domain_check </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether a virtual address might be accessed with the given flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>the virtual address </td></tr>
    <tr><td class="paramname">flags</td><td>the flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the virtual address belongs to the domain contained in the flags </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00237">237</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga408e67ff0d3c015f67a04d649a193677_cgraph.png" border="0" usemap="#group__vmm_ga408e67ff0d3c015f67a04d649a193677_cgraph" alt=""/></div>
<map name="group__vmm_ga408e67ff0d3c015f67a04d649a193677_cgraph" id="group__vmm_ga408e67ff0d3c015f67a04d649a193677_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="197,5,358,44"/>
<area shape="rect" id="node4" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="214,68,341,93"/>
<area shape="rect" id="node3" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="406,12,543,37"/>
</map>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga408e67ff0d3c015f67a04d649a193677_icgraph.png" border="0" usemap="#group__vmm_ga408e67ff0d3c015f67a04d649a193677_icgraph" alt=""/></div>
<map name="group__vmm_ga408e67ff0d3c015f67a04d649a193677_icgraph" id="group__vmm_ga408e67ff0d3c015f67a04d649a193677_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="197,432,281,457"/>
<area shape="rect" id="node3" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="329,459,508,484"/>
<area shape="rect" id="node29" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="801,584,881,609"/>
<area shape="rect" id="node31" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="752,535,930,560"/>
<area shape="rect" id="node7" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1534,181,1609,207"/>
<area shape="rect" id="node4" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="563,459,688,484"/>
<area shape="rect" id="node33" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="556,289,696,315"/>
<area shape="rect" id="node5" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="744,364,938,389"/>
<area shape="rect" id="node12" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1728,532,1859,557"/>
<area shape="rect" id="node32" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1529,432,1614,457"/>
<area shape="rect" id="node6" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1231,356,1422,381"/>
<area shape="rect" id="node14" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="986,283,1183,308"/>
<area shape="rect" id="node18" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="987,332,1182,357"/>
<area shape="rect" id="node8" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="2121,431,2233,456"/>
<area shape="rect" id="node9" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1721,381,1866,407"/>
<area shape="rect" id="node10" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1914,381,2048,407"/>
<area shape="rect" id="node11" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1919,431,2042,456"/>
<area shape="rect" id="node13" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1924,532,2037,557"/>
<area shape="rect" id="node15" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1745,180,1842,205"/>
<area shape="rect" id="node16" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1921,231,2040,256"/>
<area shape="rect" id="node17" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="2096,205,2258,231"/>
<area shape="rect" id="node19" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1237,232,1416,257"/>
<area shape="rect" id="node20" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1475,280,1668,305"/>
<area shape="rect" id="node23" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1470,231,1673,256"/>
<area shape="rect" id="node24" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1496,29,1647,55"/>
<area shape="rect" id="node21" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1759,456,1827,481"/>
<area shape="rect" id="node22" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1752,231,1835,256"/>
<area shape="rect" id="node25" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1749,5,1838,31"/>
<area shape="rect" id="node28" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1756,55,1831,80"/>
<area shape="rect" id="node26" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1938,5,2024,31"/>
<area shape="rect" id="node27" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="2147,5,2207,31"/>
<area shape="rect" id="node30" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="990,585,1180,611"/>
<area shape="rect" id="node34" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="764,283,918,321"/>
<area shape="rect" id="node35" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1531,132,1612,157"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae40fd6d42d13bf563fd860826b16e8e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps the current page directory. </p>
<p>The dump is logged. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00378">378</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gae40fd6d42d13bf563fd860826b16e8e4_cgraph.png" border="0" usemap="#group__vmm_gae40fd6d42d13bf563fd860826b16e8e4_cgraph" alt=""/></div>
<map name="group__vmm_gae40fd6d42d13bf563fd860826b16e8e4_cgraph" id="group__vmm_gae40fd6d42d13bf563fd860826b16e8e4_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="144,58,331,83"/>
<area shape="rect" id="node5" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="576,86,726,111"/>
<area shape="rect" id="node3" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="392,30,516,55"/>
<area shape="rect" id="node4" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="379,79,528,118"/>
<area shape="rect" id="node6" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="774,33,906,58"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabb68f35006f91ee39dc4b77eb84d29b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_enable_domain_check </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables domain checking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>whether to enable or disable domain checking </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00539">539</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gabb68f35006f91ee39dc4b77eb84d29b3_icgraph.png" border="0" usemap="#group__vmm_gabb68f35006f91ee39dc4b77eb84d29b3_icgraph" alt=""/></div>
<map name="group__vmm_gabb68f35006f91ee39dc4b77eb84d29b3_icgraph" id="group__vmm_gabb68f35006f91ee39dc4b77eb84d29b3_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="272,5,347,31"/>
<area shape="rect" id="node3" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="244,55,375,80"/>
<area shape="rect" id="node4" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="423,55,536,80"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac9b3b29083204cd04643f125d9cc4447"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* vmm_find_free </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds unmapped pages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>requested number of consecutive free bytes </td></tr>
    <tr><td class="paramname">domain</td><td>requested domain </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the virtual address of a suitable unmapped memory range </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00407">407</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gac9b3b29083204cd04643f125d9cc4447_cgraph.png" border="0" usemap="#group__vmm_gac9b3b29083204cd04643f125d9cc4447_cgraph" alt=""/></div>
<map name="group__vmm_gac9b3b29083204cd04643f125d9cc4447_cgraph" id="group__vmm_gac9b3b29083204cd04643f125d9cc4447_cgraph">
<area shape="rect" id="node2" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="199,41,313,67"/>
<area shape="rect" id="node3" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="163,91,349,116"/>
<area shape="rect" id="node7" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="793,119,924,144"/>
<area shape="rect" id="node4" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="410,5,534,31"/>
<area shape="rect" id="node5" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="397,55,547,93"/>
<area shape="rect" id="node6" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="595,65,745,91"/>
</map>
</div>
</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gac9b3b29083204cd04643f125d9cc4447_icgraph.png" border="0" usemap="#group__vmm_gac9b3b29083204cd04643f125d9cc4447_icgraph" alt=""/></div>
<map name="group__vmm_gac9b3b29083204cd04643f125d9cc4447_icgraph" id="group__vmm_gac9b3b29083204cd04643f125d9cc4447_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="163,255,358,280"/>
<area shape="rect" id="node26" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="165,304,355,329"/>
<area shape="rect" id="node27" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="953,180,1038,205"/>
<area shape="rect" id="node3" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="900,131,1090,156"/>
<area shape="rect" id="node11" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="648,331,845,356"/>
<area shape="rect" id="node15" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="406,280,600,305"/>
<area shape="rect" id="node4" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1180,5,1254,31"/>
<area shape="rect" id="node5" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1545,107,1656,132"/>
<area shape="rect" id="node6" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1145,133,1289,159"/>
<area shape="rect" id="node9" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1152,183,1282,208"/>
<area shape="rect" id="node7" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1337,156,1471,181"/>
<area shape="rect" id="node8" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1342,107,1466,132"/>
<area shape="rect" id="node10" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1348,205,1461,231"/>
<area shape="rect" id="node12" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1169,331,1266,356"/>
<area shape="rect" id="node13" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1345,307,1464,332"/>
<area shape="rect" id="node14" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1519,332,1681,357"/>
<area shape="rect" id="node16" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="658,280,836,305"/>
<area shape="rect" id="node17" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="899,231,1091,256"/>
<area shape="rect" id="node20" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="893,280,1097,305"/>
<area shape="rect" id="node21" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="920,381,1071,407"/>
<area shape="rect" id="node18" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1183,232,1251,257"/>
<area shape="rect" id="node19" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1176,281,1259,307"/>
<area shape="rect" id="node22" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1172,431,1262,456"/>
<area shape="rect" id="node25" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1180,381,1254,407"/>
<area shape="rect" id="node23" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1361,431,1447,456"/>
<area shape="rect" id="node24" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1570,431,1630,456"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga75aa07ed605b2e381cdd80fdae0ee126"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the given page(s) and unmaps them from memory. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. ">vmm_alloc</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>a virtual address in the first page to be unmapped </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be unmapped </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00528">528</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_cgraph.png" border="0" usemap="#group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_cgraph" alt=""/></div>
<map name="group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_cgraph" id="group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="549,94,736,119"/>
<area shape="rect" id="node7" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="134,327,274,353"/>
<area shape="rect" id="node23" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1046,43,1128,69"/>
<area shape="rect" id="node3" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="809,43,933,69"/>
<area shape="rect" id="node4" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="796,194,946,233"/>
<area shape="rect" id="node6" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1218,309,1350,334"/>
<area shape="rect" id="node5" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1012,258,1162,283"/>
<area shape="rect" id="node8" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="322,461,501,486"/>
<area shape="rect" id="node9" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="799,562,943,587"/>
<area shape="rect" id="node13" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1405,461,1519,486"/>
<area shape="rect" id="node14" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="601,410,684,435"/>
<area shape="rect" id="node21" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="593,283,692,309"/>
<area shape="rect" id="node10" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1006,561,1168,599"/>
<area shape="rect" id="node12" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1023,511,1151,537"/>
<area shape="rect" id="node11" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1216,567,1352,593"/>
<area shape="rect" id="node15" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="828,410,914,435"/>
<area shape="rect" id="node20" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="817,309,925,334"/>
<area shape="rect" id="node16" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1032,410,1142,435"/>
<area shape="rect" id="node18" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1244,259,1324,285"/>
<area shape="rect" id="node17" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1222,410,1346,435"/>
<area shape="rect" id="node19" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1400,259,1524,285"/>
<area shape="rect" id="node22" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="784,145,958,170"/>
</map>
</div>
</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_icgraph.png" border="0" usemap="#group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_icgraph" alt=""/></div>
<map name="group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_icgraph" id="group__vmm_ga75aa07ed605b2e381cdd80fdae0ee126_icgraph">
<area shape="rect" id="node2" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="141,5,224,31"/>
<area shape="rect" id="node5" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="134,55,231,80"/>
<area shape="rect" id="node3" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="279,5,397,31"/>
<area shape="rect" id="node4" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="445,31,607,56"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab536804df3329c431fdf5c4486f09c23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a>* vmm_get_domain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts a domain from the given flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>the flags containing a domain </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the domain contained in the flags, either the kernel or user domain </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00206">206</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gab536804df3329c431fdf5c4486f09c23_icgraph.png" border="0" usemap="#group__vmm_gab536804df3329c431fdf5c4486f09c23_icgraph" alt=""/></div>
<map name="group__vmm_gab536804df3329c431fdf5c4486f09c23_icgraph" id="group__vmm_gab536804df3329c431fdf5c4486f09c23_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="181,327,324,352"/>
<area shape="rect" id="node6" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="919,92,1114,118"/>
<area shape="rect" id="node31" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="1165,555,1355,580"/>
<area shape="rect" id="node33" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1459,467,1544,492"/>
<area shape="rect" id="node3" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="372,226,456,251"/>
<area shape="rect" id="node4" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="504,276,683,302"/>
<area shape="rect" id="node30" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="977,530,1056,555"/>
<area shape="rect" id="node32" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="927,327,1105,352"/>
<area shape="rect" id="node8" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1709,178,1784,203"/>
<area shape="rect" id="node5" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="738,378,864,403"/>
<area shape="rect" id="node34" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="731,148,871,174"/>
<area shape="rect" id="node13" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1904,378,2034,403"/>
<area shape="rect" id="node7" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1407,126,1597,151"/>
<area shape="rect" id="node15" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="1162,74,1359,99"/>
<area shape="rect" id="node19" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="1163,175,1358,200"/>
<area shape="rect" id="node9" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="2296,176,2408,202"/>
<area shape="rect" id="node10" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1897,227,2041,252"/>
<area shape="rect" id="node11" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="2089,226,2223,251"/>
<area shape="rect" id="node12" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="2094,176,2218,202"/>
<area shape="rect" id="node14" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="2099,378,2213,403"/>
<area shape="rect" id="node16" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1920,26,2017,51"/>
<area shape="rect" id="node17" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="2097,75,2215,100"/>
<area shape="rect" id="node18" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="2271,50,2433,75"/>
<area shape="rect" id="node20" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1413,276,1591,302"/>
<area shape="rect" id="node21" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1650,276,1843,302"/>
<area shape="rect" id="node24" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1645,227,1849,252"/>
<area shape="rect" id="node25" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1671,580,1822,606"/>
<area shape="rect" id="node22" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1935,276,2003,302"/>
<area shape="rect" id="node23" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1927,75,2010,100"/>
<area shape="rect" id="node26" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1924,555,2014,580"/>
<area shape="rect" id="node29" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1931,604,2006,630"/>
<area shape="rect" id="node27" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="2113,555,2199,580"/>
<area shape="rect" id="node28" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="2322,555,2382,580"/>
<area shape="rect" id="node35" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="939,142,1093,180"/>
<area shape="rect" id="node36" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1706,26,1787,51"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae814d9b3e619cc1b3acaa94a336157c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structvmm__domain__t.html">vmm_domain_t</a>* vmm_get_domain_from_address </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the domain a virtual address belongs to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>the virtual address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the domain the virtual address belongs to </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00226">226</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_cgraph.png" border="0" usemap="#group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_cgraph" alt=""/></div>
<map name="group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_cgraph" id="group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="215,12,351,37"/>
</map>
</div>
</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_icgraph.png" border="0" usemap="#group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_icgraph" alt=""/></div>
<map name="group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_icgraph" id="group__vmm_gae814d9b3e619cc1b3acaa94a336157c8_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="215,508,358,533"/>
<area shape="rect" id="node3" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="406,432,490,457"/>
<area shape="rect" id="node4" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="538,459,717,484"/>
<area shape="rect" id="node30" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="1011,584,1090,609"/>
<area shape="rect" id="node32" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="962,535,1139,560"/>
<area shape="rect" id="node8" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1743,181,1818,207"/>
<area shape="rect" id="node5" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="773,459,898,484"/>
<area shape="rect" id="node34" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="765,289,905,315"/>
<area shape="rect" id="node6" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="953,364,1148,389"/>
<area shape="rect" id="node13" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1938,532,2068,557"/>
<area shape="rect" id="node33" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1738,432,1823,457"/>
<area shape="rect" id="node7" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1441,356,1631,381"/>
<area shape="rect" id="node15" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="1196,283,1393,308"/>
<area shape="rect" id="node19" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="1197,332,1392,357"/>
<area shape="rect" id="node9" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="2330,431,2442,456"/>
<area shape="rect" id="node10" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1931,381,2075,407"/>
<area shape="rect" id="node11" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="2123,381,2257,407"/>
<area shape="rect" id="node12" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="2128,431,2252,456"/>
<area shape="rect" id="node14" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="2133,532,2247,557"/>
<area shape="rect" id="node16" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1954,180,2051,205"/>
<area shape="rect" id="node17" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="2131,231,2249,256"/>
<area shape="rect" id="node18" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="2305,205,2467,231"/>
<area shape="rect" id="node20" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1447,232,1625,257"/>
<area shape="rect" id="node21" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1685,280,1877,305"/>
<area shape="rect" id="node24" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1679,231,1883,256"/>
<area shape="rect" id="node25" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1705,29,1856,55"/>
<area shape="rect" id="node22" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1969,456,2037,481"/>
<area shape="rect" id="node23" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1961,231,2044,256"/>
<area shape="rect" id="node26" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1958,5,2048,31"/>
<area shape="rect" id="node29" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1965,55,2040,80"/>
<area shape="rect" id="node27" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="2147,5,2233,31"/>
<area shape="rect" id="node28" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="2356,5,2416,31"/>
<area shape="rect" id="node31" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="1199,585,1389,611"/>
<area shape="rect" id="node35" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="973,283,1127,321"/>
<area shape="rect" id="node36" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1741,132,1821,157"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4ec502fa0597ddc39ccefc5e41ed7068"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structpage__table__entry__t.html">page_table_entry_t</a>* vmm_get_page_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__directory__entry__t.html">page_directory_entry_t</a> *&#160;</td>
          <td class="paramname"><em>dir_entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionvmm__virtual__address__t.html">vmm_virtual_address_t</a>&#160;</td>
          <td class="paramname"><em>vaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a virtual or physical address to a page table in memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_entry</td><td>the page directory entry for the requested page table </td></tr>
    <tr><td class="paramname">vaddr</td><td>a virtual address belonging to the requested page table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a usable pointer (virtual or physical) to the page table </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00180">180</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_cgraph.png" border="0" usemap="#group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_cgraph" alt=""/></div>
<map name="group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_cgraph" id="group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_cgraph">
<area shape="rect" id="node2" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="203,5,335,31"/>
</map>
</div>
</p>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_icgraph.png" border="0" usemap="#group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_icgraph" alt=""/></div>
<map name="group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_icgraph" id="group__vmm_ga4ec502fa0597ddc39ccefc5e41ed7068_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="203,437,352,476"/>
<area shape="rect" id="node3" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="408,386,491,412"/>
<area shape="rect" id="node38" href="group__vmm.html#gae40fd6d42d13bf563fd860826b16e8e4" title="Dumps the current page directory. " alt="" coords="806,653,897,678"/>
<area shape="rect" id="node40" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="400,336,499,361"/>
<area shape="rect" id="node37" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="547,552,733,577"/>
<area shape="rect" id="node4" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="551,336,730,361"/>
<area shape="rect" id="node8" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1760,352,1835,377"/>
<area shape="rect" id="node5" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="789,184,914,209"/>
<area shape="rect" id="node34" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="781,444,921,469"/>
<area shape="rect" id="node6" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="969,336,1164,361"/>
<area shape="rect" id="node13" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1954,200,2084,225"/>
<area shape="rect" id="node30" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="1027,234,1106,260"/>
<area shape="rect" id="node32" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="1463,298,1641,324"/>
<area shape="rect" id="node33" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1510,90,1595,116"/>
<area shape="rect" id="node7" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1457,249,1647,274"/>
<area shape="rect" id="node15" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="1212,501,1409,526"/>
<area shape="rect" id="node19" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="1213,400,1408,425"/>
<area shape="rect" id="node9" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="2347,262,2458,288"/>
<area shape="rect" id="node10" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1947,288,2091,313"/>
<area shape="rect" id="node11" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="2139,312,2273,337"/>
<area shape="rect" id="node12" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="2145,262,2268,288"/>
<area shape="rect" id="node14" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="2150,200,2263,225"/>
<area shape="rect" id="node16" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1971,450,2068,476"/>
<area shape="rect" id="node17" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="2147,500,2266,525"/>
<area shape="rect" id="node18" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="2321,474,2484,500"/>
<area shape="rect" id="node20" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1463,426,1641,452"/>
<area shape="rect" id="node21" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1701,450,1893,476"/>
<area shape="rect" id="node24" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1695,401,1899,426"/>
<area shape="rect" id="node25" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1722,653,1873,678"/>
<area shape="rect" id="node22" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1985,388,2053,413"/>
<area shape="rect" id="node23" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1978,500,2061,525"/>
<area shape="rect" id="node26" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1974,677,2064,702"/>
<area shape="rect" id="node29" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1982,628,2057,653"/>
<area shape="rect" id="node27" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="2163,677,2249,702"/>
<area shape="rect" id="node28" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="2373,677,2432,702"/>
<area shape="rect" id="node31" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="1215,241,1406,266"/>
<area shape="rect" id="node35" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="990,437,1144,476"/>
<area shape="rect" id="node36" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1270,602,1351,628"/>
<area shape="rect" id="node39" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="797,310,906,336"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaca2ad6adc3d01b4f69741bb3063b44bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structpage__table__entry__t.html">page_table_entry_t</a>* vmm_get_page_table_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__directory__entry__t.html">page_directory_entry_t</a> *&#160;</td>
          <td class="paramname"><em>dir_entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionvmm__virtual__address__t.html">vmm_virtual_address_t</a>&#160;</td>
          <td class="paramname"><em>vaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a virtual or physical address to a page table entry in memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_entry</td><td>the page directory entry for the requested page table entry </td></tr>
    <tr><td class="paramname">vaddr</td><td>a virtual address belonging to the requested page table entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a usable pointer (virtual or physical) to the page table entry </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00196">196</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_cgraph.png" border="0" usemap="#group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_cgraph" alt=""/></div>
<map name="group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_cgraph" id="group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="203,12,352,37"/>
<area shape="rect" id="node3" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="400,12,532,37"/>
</map>
</div>
</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_icgraph.png" border="0" usemap="#group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_icgraph" alt=""/></div>
<map name="group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_icgraph" id="group__vmm_gaca2ad6adc3d01b4f69741bb3063b44bb_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="203,424,286,449"/>
<area shape="rect" id="node36" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="334,549,521,574"/>
<area shape="rect" id="node3" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="338,424,517,449"/>
<area shape="rect" id="node7" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1547,349,1622,374"/>
<area shape="rect" id="node4" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="576,120,702,145"/>
<area shape="rect" id="node33" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="569,449,709,474"/>
<area shape="rect" id="node5" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="757,297,952,322"/>
<area shape="rect" id="node12" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1742,146,1872,172"/>
<area shape="rect" id="node29" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="815,145,894,170"/>
<area shape="rect" id="node31" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="1251,170,1429,196"/>
<area shape="rect" id="node32" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1297,70,1382,96"/>
<area shape="rect" id="node6" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1245,297,1435,322"/>
<area shape="rect" id="node14" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="1000,498,1197,524"/>
<area shape="rect" id="node18" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="1001,449,1196,474"/>
<area shape="rect" id="node8" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="2134,261,2246,286"/>
<area shape="rect" id="node9" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1735,305,1879,330"/>
<area shape="rect" id="node10" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1927,310,2061,336"/>
<area shape="rect" id="node11" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1932,261,2056,286"/>
<area shape="rect" id="node13" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1937,146,2051,172"/>
<area shape="rect" id="node15" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1758,448,1855,473"/>
<area shape="rect" id="node16" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1935,497,2053,522"/>
<area shape="rect" id="node17" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="2109,472,2271,497"/>
<area shape="rect" id="node19" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1251,448,1429,473"/>
<area shape="rect" id="node20" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1489,448,1681,473"/>
<area shape="rect" id="node23" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1483,398,1687,424"/>
<area shape="rect" id="node24" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1509,650,1660,676"/>
<area shape="rect" id="node21" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1773,386,1841,412"/>
<area shape="rect" id="node22" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1765,497,1848,522"/>
<area shape="rect" id="node25" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1762,625,1852,650"/>
<area shape="rect" id="node28" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1769,674,1844,700"/>
<area shape="rect" id="node26" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1951,625,2037,650"/>
<area shape="rect" id="node27" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="2160,625,2220,650"/>
<area shape="rect" id="node30" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="1003,170,1193,196"/>
<area shape="rect" id="node34" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="777,442,931,481"/>
<area shape="rect" id="node35" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1058,600,1138,625"/>
<area shape="rect" id="node37" href="group__vmm.html#gae40fd6d42d13bf563fd860826b16e8e4" title="Dumps the current page directory. " alt="" coords="594,600,685,625"/>
<area shape="rect" id="node38" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="584,272,694,297"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae24357af46126c4386fa4799eb660854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * vmm_get_physical_address </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>_vaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translates a virtual address into a physical address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_vaddr</td><td>the virtual address to translate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the physical address associated with the virtual address </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00362">362</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gae24357af46126c4386fa4799eb660854_cgraph.png" border="0" usemap="#group__vmm_gae24357af46126c4386fa4799eb660854_cgraph" alt=""/></div>
<map name="group__vmm_gae24357af46126c4386fa4799eb660854_cgraph" id="group__vmm_gae24357af46126c4386fa4799eb660854_cgraph">
<area shape="rect" id="node2" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="253,5,377,31"/>
<area shape="rect" id="node3" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="240,55,390,93"/>
<area shape="rect" id="node5" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="635,92,767,117"/>
<area shape="rect" id="node4" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="438,65,587,91"/>
</map>
</div>
</p>

<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gae24357af46126c4386fa4799eb660854_icgraph.png" border="0" usemap="#group__vmm_gae24357af46126c4386fa4799eb660854_icgraph" alt=""/></div>
<map name="group__vmm_gae24357af46126c4386fa4799eb660854_icgraph" id="group__vmm_gae24357af46126c4386fa4799eb660854_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="892,208,1071,233"/>
<area shape="rect" id="node22" href="group__vmm.html#gae40fd6d42d13bf563fd860826b16e8e4" title="Dumps the current page directory. " alt="" coords="249,245,340,271"/>
<area shape="rect" id="node23" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="240,171,349,196"/>
<area shape="rect" id="node30" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1189,333,1270,359"/>
<area shape="rect" id="node3" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1133,232,1326,257"/>
<area shape="rect" id="node15" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1128,183,1332,208"/>
<area shape="rect" id="node16" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1414,5,1489,31"/>
<area shape="rect" id="node17" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1154,383,1305,408"/>
<area shape="rect" id="node4" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1418,232,1486,257"/>
<area shape="rect" id="node6" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1410,281,1493,307"/>
<area shape="rect" id="node9" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1380,133,1524,159"/>
<area shape="rect" id="node12" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1403,331,1500,356"/>
<area shape="rect" id="node13" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1387,183,1517,208"/>
<area shape="rect" id="node5" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1779,107,1891,132"/>
<area shape="rect" id="node7" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1580,307,1698,332"/>
<area shape="rect" id="node8" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1754,332,1916,357"/>
<area shape="rect" id="node10" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1572,156,1706,181"/>
<area shape="rect" id="node11" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1577,107,1701,132"/>
<area shape="rect" id="node14" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1582,205,1696,231"/>
<area shape="rect" id="node18" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1407,431,1496,456"/>
<area shape="rect" id="node21" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1414,381,1489,407"/>
<area shape="rect" id="node19" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1596,431,1682,456"/>
<area shape="rect" id="node20" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1805,431,1865,456"/>
<area shape="rect" id="node24" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="397,195,592,220"/>
<area shape="rect" id="node28" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="400,145,590,171"/>
<area shape="rect" id="node29" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1187,133,1272,159"/>
<area shape="rect" id="node25" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1135,84,1325,109"/>
<area shape="rect" id="node26" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="883,283,1080,308"/>
<area shape="rect" id="node27" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="640,195,835,220"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga94d0d5a556b0b3fe234349138fa1ba2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__pmm.html#ga4873e44c48caf8989d18f04996f80354">pmm_flags_t</a> vmm_get_pmm_flags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translates VMM into PMM flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>the VMM flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the PMM flags </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00429">429</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga94d0d5a556b0b3fe234349138fa1ba2d_icgraph.png" border="0" usemap="#group__vmm_ga94d0d5a556b0b3fe234349138fa1ba2d_icgraph" alt=""/></div>
<map name="group__vmm_ga94d0d5a556b0b3fe234349138fa1ba2d_icgraph" id="group__vmm_ga94d0d5a556b0b3fe234349138fa1ba2d_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="251,7,331,32"/>
<area shape="rect" id="node4" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="202,56,380,81"/>
<area shape="rect" id="node7" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="248,112,333,137"/>
<area shape="rect" id="node3" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="428,5,618,31"/>
<area shape="rect" id="node5" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="699,49,767,75"/>
<area shape="rect" id="node6" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="848,99,960,124"/>
<area shape="rect" id="node8" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="451,112,595,137"/>
<area shape="rect" id="node11" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="458,173,588,199"/>
<area shape="rect" id="node9" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="666,99,800,124"/>
<area shape="rect" id="node10" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="671,148,795,173"/>
<area shape="rect" id="node12" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="676,197,790,223"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadef373f9b9c3be4e9176224263fa4335"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the VMM. </p>
<p>Identity maps all up to now used kernel pages. The PMM has memorized up to which page we need to map at most to speed up the process.</p>
<p>In <a class="el" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. ">vmm_create_page_directory()</a> the last entry points to itself so we can use it as a page table to be able to dynamically (un)map and virtual addresses. This allows us to refer to the page directory (wherever it is in physical memory) with the virtual address 0xFFFFF000 as soon as paging is enabled: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;0xFFFFF000 = 0b 1111111111 1111111111 000000000000</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                dir_idx    tab_idx    page_offset</div></div><!-- fragment --><p> So 0xFFFFF000 refers to the last PDE (which is the directory itself) and then the last PTE which is the directory again, in a recursive manner. So 0xFFFFF000 points to the page directory and is one page (4096 or 0x1000 bytes) long, so it lies at 0xFFFFF000-0xFFFFFFFF (at the very end).</p>
<p>Loads the new page directory.</p>
<p>Now we are working with virtual addresses, so to access our directory we use 0xFFFFF000 as explained above. From now on all addresses are virtual addresses, but this is transparent because we identity-mapped the kernel! Note that in this way, we can access all page tables as well. Take, for example, the first page table: Because we mapped the last directory entry to the directory itself, the last 4MB of our address space (0xFFC00000- 0xFFFFFFFF) represent the whole page directory. To access the first page table, we just have to use the address 0xFFC00000 as explained above: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;0xFFC00000 = 0b 1111111111 0000000000 000000000000</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                dir_idx    tab_idx    page_offset</div></div><!-- fragment --><p> So 0xFFC00000 refers to the last PDE (the page directory) and then the first table inside the directory which points to the physical location of the page table. In other words, to access arbitrary parts of the page directory after we enabled paging, we need to use following pointers:</p><ul>
<li>0xFFC00000 - the first page table (handles 0x00000000-0x003FFFFF)</li>
<li>0xFFC01000 - the second page table (handles 0x00400000-0x007FFFFF)</li>
<li>... (formula: 0xFFC00000 + tab_idx * PAGE_SIZE), see <a class="el" href="group__vmm.html#ga7ef686d2aa844abbf0399bc95c890dc9" title="the address of a page table from the active page directory ">VMM_PAGETAB()</a></li>
<li>0xFFFFE000 - the last "regular" page table (0xFF800000-0xFFBFFFFF)</li>
<li>0xFFFFF000 - the page directory, see <a class="el" href="group__vmm.html#ga0db83ce7c010bbdc10133c076cf3c9cb" title="the active page directory&#39;s address ">VMM_PAGEDIR()</a></li>
</ul>
<p>In this way, we can map addresses as we like even with paging enabled.</p>
<p>Maps video memory in order to keep print working. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00544">544</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gadef373f9b9c3be4e9176224263fa4335_cgraph.png" border="0" usemap="#group__vmm_gadef373f9b9c3be4e9176224263fa4335_cgraph" alt=""/></div>
<map name="group__vmm_gadef373f9b9c3be4e9176224263fa4335_cgraph" id="group__vmm_gadef373f9b9c3be4e9176224263fa4335_cgraph">
<area shape="rect" id="node2" href="group__mmu.html#gabd7eba8cae99b9fb84685567d7f35242" title="Initializes the MMU. " alt="" coords="194,55,270,80"/>
<area shape="rect" id="node5" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="386,409,577,435"/>
<area shape="rect" id="node9" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1899,776,2031,801"/>
<area shape="rect" id="node25" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="1313,409,1396,435"/>
<area shape="rect" id="node32" href="group__pmm.html#ga70b288ffd00ccf95313033700034bbc1" title="Returns the highest page used by the kernel. " alt="" coords="128,1080,336,1105"/>
<area shape="rect" id="node33" href="group__pmm.html#ga8b4f247d3f70f48faf4b1d884880b4f4" title="Returns whether a page frame is used or unused. " alt="" coords="1721,105,1815,131"/>
<area shape="rect" id="node34" href="group__vmm.html#gabb68f35006f91ee39dc4b77eb84d29b3" title="Enables or disables domain checking. " alt="" coords="137,1129,328,1155"/>
<area shape="rect" id="node35" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="143,852,321,877"/>
<area shape="rect" id="node3" href="group__isr.html#ga2cb4bb8ef9beea9f591bc9d4956e0933" title="Registers a handler to call whenever a given interrupt is fired. " alt="" coords="412,55,551,80"/>
<area shape="rect" id="node4" href="group__mmu.html#gaa1531ee8bcfa5094e766c9756c6903ac" title="Handles page faults. " alt="" coords="397,5,566,31"/>
<area shape="rect" id="node6" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1509,308,1595,333"/>
<area shape="rect" id="node11" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="2086,232,2200,257"/>
<area shape="rect" id="node13" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="627,600,822,625"/>
<area shape="rect" id="node30" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="647,719,801,757"/>
<area shape="rect" id="node7" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1713,308,1823,333"/>
<area shape="rect" id="node10" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1925,573,2005,599"/>
<area shape="rect" id="node8" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1903,105,2027,131"/>
<area shape="rect" id="node12" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="2081,573,2204,599"/>
<area shape="rect" id="node14" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1292,928,1416,953"/>
<area shape="rect" id="node15" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="885,624,994,649"/>
<area shape="rect" id="node19" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1704,409,1832,435"/>
<area shape="rect" id="node20" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="877,575,1002,600"/>
<area shape="rect" id="node16" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="1058,701,1244,727"/>
<area shape="rect" id="node17" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1477,712,1627,751"/>
<area shape="rect" id="node18" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1693,708,1843,733"/>
<area shape="rect" id="node21" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="1061,575,1240,600"/>
<area shape="rect" id="node22" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1480,409,1624,435"/>
<area shape="rect" id="node27" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="1305,593,1403,619"/>
<area shape="rect" id="node23" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1687,459,1849,497"/>
<area shape="rect" id="node24" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1897,465,2033,491"/>
<area shape="rect" id="node26" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1498,561,1606,587"/>
<area shape="rect" id="node28" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1464,611,1639,636"/>
<area shape="rect" id="node29" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1727,592,1809,617"/>
<area shape="rect" id="node31" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="870,725,1010,751"/>
<area shape="rect" id="node36" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="384,725,579,751"/>
<area shape="rect" id="node37" href="group__mmu.html#ga5a8c2a23e92f9d6eaa5e472c0fe9c98f" title="Loads a page directory into the CR3 register. " alt="" coords="635,953,814,979"/>
<area shape="rect" id="node38" href="group__mmu.html#ga3108646fd68a371f496027b8a899ea18" title="Loads a page directory and enables paging. " alt="" coords="409,979,554,1004"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa0f722ed8ab308a12be211f1ef561143"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t vmm_is_in_domain </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether a virtual address belongs to a given domain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>the virtual address </td></tr>
    <tr><td class="paramname">domain</td><td>the domain </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the virtual address belongs to the domain </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00216">216</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gaa0f722ed8ab308a12be211f1ef561143_icgraph.png" border="0" usemap="#group__vmm_gaa0f722ed8ab308a12be211f1ef561143_icgraph" alt=""/></div>
<map name="group__vmm_gaa0f722ed8ab308a12be211f1ef561143_icgraph" id="group__vmm_gaa0f722ed8ab308a12be211f1ef561143_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="190,501,351,540"/>
<area shape="rect" id="node3" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="399,508,543,533"/>
<area shape="rect" id="node4" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="591,432,674,457"/>
<area shape="rect" id="node5" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="722,459,901,484"/>
<area shape="rect" id="node31" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="1195,584,1274,609"/>
<area shape="rect" id="node33" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="1146,535,1323,560"/>
<area shape="rect" id="node9" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1928,181,2002,207"/>
<area shape="rect" id="node6" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="957,459,1082,484"/>
<area shape="rect" id="node35" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="949,289,1089,315"/>
<area shape="rect" id="node7" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="1137,364,1332,389"/>
<area shape="rect" id="node14" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="2122,532,2252,557"/>
<area shape="rect" id="node34" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1923,432,2008,457"/>
<area shape="rect" id="node8" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1625,356,1815,381"/>
<area shape="rect" id="node16" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="1380,283,1577,308"/>
<area shape="rect" id="node20" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="1381,332,1576,357"/>
<area shape="rect" id="node10" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="2514,431,2626,456"/>
<area shape="rect" id="node11" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="2115,381,2259,407"/>
<area shape="rect" id="node12" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="2307,381,2441,407"/>
<area shape="rect" id="node13" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="2312,431,2436,456"/>
<area shape="rect" id="node15" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="2318,532,2431,557"/>
<area shape="rect" id="node17" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="2139,180,2236,205"/>
<area shape="rect" id="node18" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="2315,231,2433,256"/>
<area shape="rect" id="node19" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="2489,205,2651,231"/>
<area shape="rect" id="node21" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1631,232,1809,257"/>
<area shape="rect" id="node22" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1869,280,2061,305"/>
<area shape="rect" id="node25" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1863,231,2067,256"/>
<area shape="rect" id="node26" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1890,29,2041,55"/>
<area shape="rect" id="node23" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="2153,456,2221,481"/>
<area shape="rect" id="node24" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="2146,231,2228,256"/>
<area shape="rect" id="node27" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="2142,5,2232,31"/>
<area shape="rect" id="node30" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="2150,55,2224,80"/>
<area shape="rect" id="node28" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="2331,5,2417,31"/>
<area shape="rect" id="node29" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="2540,5,2600,31"/>
<area shape="rect" id="node32" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="1383,585,1574,611"/>
<area shape="rect" id="node36" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="1158,283,1312,321"/>
<area shape="rect" id="node37" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1925,132,2005,157"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae21ea3cbc0bddb5ade0251b4bfb2946c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> * vmm_load_page_directory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td>
          <td class="paramname"><em>new_directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a new page directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_directory</td><td>the physical address of the page directory to be loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the physical address of the previously loaded page directory </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00129">129</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_cgraph.png" border="0" usemap="#group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_cgraph" alt=""/></div>
<map name="group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_cgraph" id="group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="905,521,1092,547"/>
<area shape="rect" id="node3" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1140,471,1264,496"/>
<area shape="rect" id="node7" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="232,395,427,420"/>
<area shape="rect" id="node29" href="group__mmu.html#ga5a8c2a23e92f9d6eaa5e472c0fe9c98f" title="Loads a page directory into the CR3 register. " alt="" coords="482,597,661,623"/>
<area shape="rect" id="node30" href="group__mmu.html#ga3108646fd68a371f496027b8a899ea18" title="Loads a page directory and enables paging. " alt="" coords="256,572,402,597"/>
<area shape="rect" id="node4" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1325,413,1474,452"/>
<area shape="rect" id="node6" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1747,441,1878,467"/>
<area shape="rect" id="node5" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1541,407,1690,432"/>
<area shape="rect" id="node8" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="475,395,669,420"/>
<area shape="rect" id="node27" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="495,261,649,300"/>
<area shape="rect" id="node9" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="732,599,842,624"/>
<area shape="rect" id="node11" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1552,5,1679,31"/>
<area shape="rect" id="node12" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="725,369,850,395"/>
<area shape="rect" id="node10" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1933,424,2047,449"/>
<area shape="rect" id="node13" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="909,217,1088,243"/>
<area shape="rect" id="node14" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1328,61,1471,87"/>
<area shape="rect" id="node17" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="1160,212,1244,237"/>
<area shape="rect" id="node24" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="1153,288,1251,313"/>
<area shape="rect" id="node15" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1535,55,1696,93"/>
<area shape="rect" id="node16" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1744,61,1880,87"/>
<area shape="rect" id="node18" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1357,111,1442,136"/>
<area shape="rect" id="node23" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1345,263,1454,288"/>
<area shape="rect" id="node19" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1560,219,1671,244"/>
<area shape="rect" id="node21" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1772,169,1852,195"/>
<area shape="rect" id="node20" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1750,219,1875,244"/>
<area shape="rect" id="node22" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1928,169,2052,195"/>
<area shape="rect" id="node25" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1312,312,1487,337"/>
<area shape="rect" id="node26" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1575,169,1656,195"/>
<area shape="rect" id="node28" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="717,217,857,243"/>
</map>
</div>
</p>

<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_icgraph.png" border="0" usemap="#group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_icgraph" alt=""/></div>
<map name="group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_icgraph" id="group__vmm_gae21ea3cbc0bddb5ade0251b4bfb2946c_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="237,156,430,181"/>
<area shape="rect" id="node14" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="232,205,435,231"/>
<area shape="rect" id="node15" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="296,255,371,280"/>
<area shape="rect" id="node16" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="258,304,409,329"/>
<area shape="rect" id="node3" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="522,107,590,132"/>
<area shape="rect" id="node5" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="514,255,597,280"/>
<area shape="rect" id="node8" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="483,156,628,181"/>
<area shape="rect" id="node11" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="507,205,604,231"/>
<area shape="rect" id="node12" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="490,57,621,83"/>
<area shape="rect" id="node4" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="883,81,995,107"/>
<area shape="rect" id="node6" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="684,257,802,283"/>
<area shape="rect" id="node7" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="858,232,1020,257"/>
<area shape="rect" id="node9" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="676,156,810,181"/>
<area shape="rect" id="node10" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="681,107,805,132"/>
<area shape="rect" id="node13" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="686,5,799,31"/>
<area shape="rect" id="node17" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="511,353,600,379"/>
<area shape="rect" id="node20" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="518,304,593,329"/>
<area shape="rect" id="node18" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="700,353,786,379"/>
<area shape="rect" id="node19" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="909,353,969,379"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3e7053cfb721b4d0e489b95df9063ad5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t vmm_map </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>_vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps the given page into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_vaddr</td><td>a virtual address in the page to map from </td></tr>
    <tr><td class="paramname">paddr</td><td>a physical address in the page to map to </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether mapping was successful </dd></dl>
<p>Finds the page directory entry associated with this page.</p>
<p>If the table doesn't exist yet, creates it.</p>
<p>If we already mapped this page, cancels and returns 0.</p>
<p>Otherwise, maps the page.</p>
<p>if we changed the current directory, flushes the TLB to apply changes. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00253">253</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_cgraph.png" border="0" usemap="#group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_cgraph" alt=""/></div>
<map name="group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_cgraph" id="group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="140,68,283,93"/>
<area shape="rect" id="node6" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="555,119,669,144"/>
<area shape="rect" id="node7" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="169,169,255,195"/>
<area shape="rect" id="node13" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="340,268,490,293"/>
<area shape="rect" id="node14" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="137,271,286,309"/>
<area shape="rect" id="node15" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="158,333,266,359"/>
<area shape="rect" id="node3" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="334,5,496,44"/>
<area shape="rect" id="node5" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="352,68,479,93"/>
<area shape="rect" id="node4" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="544,12,680,37"/>
<area shape="rect" id="node8" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="360,219,470,244"/>
<area shape="rect" id="node11" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="375,169,455,195"/>
<area shape="rect" id="node9" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="550,219,674,244"/>
<area shape="rect" id="node10" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="546,268,678,293"/>
<area shape="rect" id="node12" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="550,169,674,195"/>
</map>
</div>
</p>

<p><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_icgraph.png" border="0" usemap="#group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_icgraph" alt=""/></div>
<map name="group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_icgraph" id="group__vmm_ga3e7053cfb721b4d0e489b95df9063ad5_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="137,257,316,283"/>
<area shape="rect" id="node6" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1342,183,1417,208"/>
<area shape="rect" id="node3" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="372,459,497,484"/>
<area shape="rect" id="node32" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="364,257,504,283"/>
<area shape="rect" id="node4" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="552,361,747,387"/>
<area shape="rect" id="node11" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1537,533,1667,559"/>
<area shape="rect" id="node28" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="610,484,689,509"/>
<area shape="rect" id="node30" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="1046,509,1224,535"/>
<area shape="rect" id="node31" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1337,433,1422,459"/>
<area shape="rect" id="node5" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1040,357,1230,383"/>
<area shape="rect" id="node13" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="795,283,992,308"/>
<area shape="rect" id="node17" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="796,332,991,357"/>
<area shape="rect" id="node7" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1929,383,2041,408"/>
<area shape="rect" id="node8" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1530,383,1674,408"/>
<area shape="rect" id="node9" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1722,432,1856,457"/>
<area shape="rect" id="node10" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1727,383,1851,408"/>
<area shape="rect" id="node12" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1732,533,1846,559"/>
<area shape="rect" id="node14" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1553,181,1650,207"/>
<area shape="rect" id="node15" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1730,232,1848,257"/>
<area shape="rect" id="node16" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1904,207,2066,232"/>
<area shape="rect" id="node18" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1046,232,1224,257"/>
<area shape="rect" id="node19" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1284,281,1476,307"/>
<area shape="rect" id="node22" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1278,232,1482,257"/>
<area shape="rect" id="node23" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1304,29,1455,55"/>
<area shape="rect" id="node20" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1568,457,1636,483"/>
<area shape="rect" id="node21" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1560,232,1643,257"/>
<area shape="rect" id="node24" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1557,5,1647,31"/>
<area shape="rect" id="node27" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1564,55,1639,80"/>
<area shape="rect" id="node25" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1746,5,1832,31"/>
<area shape="rect" id="node26" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1955,5,2015,31"/>
<area shape="rect" id="node29" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="798,484,988,509"/>
<area shape="rect" id="node33" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="572,280,726,319"/>
<area shape="rect" id="node34" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1340,133,1420,159"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga37cd05a420e7bbc80e9df22d1d7a8661"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * vmm_map_physical_memory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If necessary, maps the given page(s) somewhere into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">paddr</td><td>a physical address in the first page to map to </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be mapped </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the virtual address of the newly mapped memory </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00440">440</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_cgraph.png" border="0" usemap="#group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_cgraph" alt=""/></div>
<map name="group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_cgraph" id="group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_cgraph">
<area shape="rect" id="node2" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="908,5,1033,31"/>
<area shape="rect" id="node3" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="456,132,565,157"/>
<area shape="rect" id="node9" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1123,736,1250,761"/>
<area shape="rect" id="node10" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="248,256,373,281"/>
<area shape="rect" id="node4" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1504,292,1618,317"/>
<area shape="rect" id="node5" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="648,107,835,132"/>
<area shape="rect" id="node8" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1317,289,1449,315"/>
<area shape="rect" id="node6" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="896,309,1045,348"/>
<area shape="rect" id="node7" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1112,317,1261,343"/>
<area shape="rect" id="node11" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="421,329,600,355"/>
<area shape="rect" id="node12" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="899,679,1042,704"/>
<area shape="rect" id="node15" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="700,524,783,549"/>
<area shape="rect" id="node22" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="692,399,791,424"/>
<area shape="rect" id="node13" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1106,673,1267,712"/>
<area shape="rect" id="node14" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1315,680,1451,705"/>
<area shape="rect" id="node16" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="927,575,1013,600"/>
<area shape="rect" id="node21" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="916,473,1024,499"/>
<area shape="rect" id="node17" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1131,487,1242,512"/>
<area shape="rect" id="node19" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1343,424,1423,449"/>
<area shape="rect" id="node18" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1321,487,1445,512"/>
<area shape="rect" id="node20" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1499,424,1623,449"/>
<area shape="rect" id="node23" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="883,424,1058,449"/>
<area shape="rect" id="node24" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1146,424,1227,449"/>
</map>
</div>
</p>

<p><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_icgraph.png" border="0" usemap="#group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_icgraph" alt=""/></div>
<map name="group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_icgraph" id="group__vmm_ga37cd05a420e7bbc80e9df22d1d7a8661_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="742,156,933,181"/>
<area shape="rect" id="node10" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="491,329,688,355"/>
<area shape="rect" id="node14" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="248,261,443,287"/>
<area shape="rect" id="node3" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1022,5,1097,31"/>
<area shape="rect" id="node4" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1387,107,1499,132"/>
<area shape="rect" id="node5" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="987,156,1132,181"/>
<area shape="rect" id="node8" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="994,205,1125,231"/>
<area shape="rect" id="node6" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1180,156,1314,181"/>
<area shape="rect" id="node7" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1185,107,1309,132"/>
<area shape="rect" id="node9" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1190,205,1303,231"/>
<area shape="rect" id="node11" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1011,353,1108,379"/>
<area shape="rect" id="node12" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1188,307,1306,332"/>
<area shape="rect" id="node13" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1362,332,1524,357"/>
<area shape="rect" id="node15" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="500,261,679,287"/>
<area shape="rect" id="node16" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="741,229,934,255"/>
<area shape="rect" id="node19" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="736,279,939,304"/>
<area shape="rect" id="node20" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="762,404,913,429"/>
<area shape="rect" id="node17" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1026,255,1094,280"/>
<area shape="rect" id="node18" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1018,304,1101,329"/>
<area shape="rect" id="node21" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1015,404,1104,429"/>
<area shape="rect" id="node24" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1022,453,1097,479"/>
<area shape="rect" id="node22" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1204,408,1290,433"/>
<area shape="rect" id="node23" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1413,408,1473,433"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gafe1dd6fb39c3e7a95f03828bcf01bebe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_map_range </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps the given page(s) into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>a virtual address in the first page to map from </td></tr>
    <tr><td class="paramname">paddr</td><td>a physical address in the first page to map to </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be mapped </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00341">341</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_cgraph.png" border="0" usemap="#group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_cgraph" alt=""/></div>
<map name="group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_cgraph" id="group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="178,214,358,239"/>
<area shape="rect" id="node3" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="568,112,711,138"/>
<area shape="rect" id="node7" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1173,163,1287,188"/>
<area shape="rect" id="node8" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="413,264,497,290"/>
<area shape="rect" id="node12" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="986,264,1118,290"/>
<area shape="rect" id="node18" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="406,454,504,479"/>
<area shape="rect" id="node4" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="775,50,936,88"/>
<area shape="rect" id="node6" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="792,112,919,138"/>
<area shape="rect" id="node5" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="984,56,1120,82"/>
<area shape="rect" id="node9" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="596,264,682,290"/>
<area shape="rect" id="node15" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="781,370,930,395"/>
<area shape="rect" id="node16" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="565,366,714,404"/>
<area shape="rect" id="node17" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="585,428,693,454"/>
<area shape="rect" id="node10" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="800,214,911,239"/>
<area shape="rect" id="node13" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1012,315,1092,340"/>
<area shape="rect" id="node11" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="990,214,1114,239"/>
<area shape="rect" id="node14" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1168,315,1292,340"/>
<area shape="rect" id="node19" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="552,530,727,555"/>
<area shape="rect" id="node20" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="815,512,896,538"/>
</map>
</div>
</p>

<p><div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_icgraph.png" border="0" usemap="#group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_icgraph" alt=""/></div>
<map name="group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_icgraph" id="group__vmm_gafe1dd6fb39c3e7a95f03828bcf01bebe_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="178,256,373,281"/>
<area shape="rect" id="node9" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1168,408,1298,433"/>
<area shape="rect" id="node26" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="236,508,315,533"/>
<area shape="rect" id="node28" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="430,356,607,381"/>
<area shape="rect" id="node29" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="968,407,1053,432"/>
<area shape="rect" id="node3" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="916,357,1106,383"/>
<area shape="rect" id="node11" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="664,144,861,169"/>
<area shape="rect" id="node15" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="421,236,616,261"/>
<area shape="rect" id="node4" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1195,307,1270,332"/>
<area shape="rect" id="node5" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1560,307,1672,332"/>
<area shape="rect" id="node6" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1160,257,1305,283"/>
<area shape="rect" id="node7" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1353,257,1487,283"/>
<area shape="rect" id="node8" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1358,307,1482,332"/>
<area shape="rect" id="node10" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1363,408,1476,433"/>
<area shape="rect" id="node12" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1184,107,1281,132"/>
<area shape="rect" id="node13" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1361,156,1479,181"/>
<area shape="rect" id="node14" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1535,131,1697,156"/>
<area shape="rect" id="node16" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="673,205,852,231"/>
<area shape="rect" id="node17" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="914,205,1107,231"/>
<area shape="rect" id="node20" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="909,156,1112,181"/>
<area shape="rect" id="node21" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="935,55,1086,80"/>
<area shape="rect" id="node18" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1199,207,1267,232"/>
<area shape="rect" id="node19" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1191,156,1274,181"/>
<area shape="rect" id="node22" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1188,55,1277,80"/>
<area shape="rect" id="node25" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1195,5,1270,31"/>
<area shape="rect" id="node23" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1377,55,1463,80"/>
<area shape="rect" id="node24" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1586,55,1646,80"/>
<area shape="rect" id="node27" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="423,508,614,533"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga36be7c83d887d2111b317b5ac796916f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vmm_map_range_detailed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps or unmaps the given page(s) into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>a virtual address in the first page to map from </td></tr>
    <tr><td class="paramname">paddr</td><td>a physical address in the first page to map to </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be mapped </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
    <tr><td class="paramname">map</td><td>whether to map (1) or unmap (0) memory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00314">314</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga36be7c83d887d2111b317b5ac796916f_cgraph.png" border="0" usemap="#group__vmm_ga36be7c83d887d2111b317b5ac796916f_cgraph" alt=""/></div>
<map name="group__vmm_ga36be7c83d887d2111b317b5ac796916f_cgraph" id="group__vmm_ga36be7c83d887d2111b317b5ac796916f_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="395,112,538,138"/>
<area shape="rect" id="node6" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1000,163,1114,188"/>
<area shape="rect" id="node7" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="240,264,324,290"/>
<area shape="rect" id="node11" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="813,264,945,290"/>
<area shape="rect" id="node17" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="233,454,331,479"/>
<area shape="rect" id="node3" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="602,50,763,88"/>
<area shape="rect" id="node5" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="619,112,746,138"/>
<area shape="rect" id="node4" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="811,56,947,82"/>
<area shape="rect" id="node8" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="423,264,509,290"/>
<area shape="rect" id="node14" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="608,370,757,395"/>
<area shape="rect" id="node15" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="392,366,541,404"/>
<area shape="rect" id="node16" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="412,428,520,454"/>
<area shape="rect" id="node9" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="627,214,738,239"/>
<area shape="rect" id="node12" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="839,315,919,340"/>
<area shape="rect" id="node10" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="817,214,941,239"/>
<area shape="rect" id="node13" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="995,315,1119,340"/>
<area shape="rect" id="node18" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="379,530,554,555"/>
<area shape="rect" id="node19" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="642,512,723,538"/>
</map>
</div>
</p>

<p><div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga36be7c83d887d2111b317b5ac796916f_icgraph.png" border="0" usemap="#group__vmm_ga36be7c83d887d2111b317b5ac796916f_icgraph" alt=""/></div>
<map name="group__vmm_ga36be7c83d887d2111b317b5ac796916f_icgraph" id="group__vmm_ga36be7c83d887d2111b317b5ac796916f_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="240,200,365,225"/>
<area shape="rect" id="node31" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="233,400,372,425"/>
<area shape="rect" id="node3" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="420,321,615,347"/>
<area shape="rect" id="node10" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1405,231,1535,256"/>
<area shape="rect" id="node27" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="478,124,557,149"/>
<area shape="rect" id="node29" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="914,105,1092,131"/>
<area shape="rect" id="node30" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1206,232,1291,257"/>
<area shape="rect" id="node4" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="908,387,1098,412"/>
<area shape="rect" id="node12" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="663,451,860,476"/>
<area shape="rect" id="node16" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="664,299,859,324"/>
<area shape="rect" id="node5" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1211,380,1286,405"/>
<area shape="rect" id="node6" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1798,381,1909,407"/>
<area shape="rect" id="node7" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1398,332,1542,357"/>
<area shape="rect" id="node8" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1590,332,1724,357"/>
<area shape="rect" id="node9" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1596,381,1719,407"/>
<area shape="rect" id="node11" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1601,231,1714,256"/>
<area shape="rect" id="node13" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1422,556,1519,581"/>
<area shape="rect" id="node14" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1598,507,1717,532"/>
<area shape="rect" id="node15" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1772,532,1935,557"/>
<area shape="rect" id="node17" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="914,299,1093,324"/>
<area shape="rect" id="node18" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1152,331,1345,356"/>
<area shape="rect" id="node21" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1146,281,1350,307"/>
<area shape="rect" id="node22" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1173,29,1324,55"/>
<area shape="rect" id="node19" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1436,281,1504,307"/>
<area shape="rect" id="node20" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1429,507,1512,532"/>
<area shape="rect" id="node23" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1426,5,1515,31"/>
<area shape="rect" id="node26" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1433,55,1508,80"/>
<area shape="rect" id="node24" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1615,5,1700,31"/>
<area shape="rect" id="node25" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1824,5,1883,31"/>
<area shape="rect" id="node28" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="667,124,857,149"/>
<area shape="rect" id="node32" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="441,393,595,432"/>
<area shape="rect" id="node33" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1208,532,1289,557"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa4627b5873ec19276ccf28f254227c01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_modified_page_directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends a page directory modification. </p>
<p>The previous page directory is loaded and interrupts are re-enabled (if they were enabled before). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. ">vmm_modify_page_directory</a> </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00164">164</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gaa4627b5873ec19276ccf28f254227c01_cgraph.png" border="0" usemap="#group__vmm_gaa4627b5873ec19276ccf28f254227c01_cgraph" alt=""/></div>
<map name="group__vmm_gaa4627b5873ec19276ccf28f254227c01_cgraph" id="group__vmm_gaa4627b5873ec19276ccf28f254227c01_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="257,126,435,151"/>
<area shape="rect" id="node32" href="group__isr.html#ga0134a3b7354debd139c8fd0d7efc3e05" title="Enables or disables interrupts. " alt="" coords="273,200,419,226"/>
<area shape="rect" id="node3" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="1157,303,1343,328"/>
<area shape="rect" id="node4" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1391,202,1516,227"/>
<area shape="rect" id="node8" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="483,204,678,230"/>
<area shape="rect" id="node30" href="group__mmu.html#ga5a8c2a23e92f9d6eaa5e472c0fe9c98f" title="Loads a page directory into the CR3 register. " alt="" coords="734,75,913,100"/>
<area shape="rect" id="node31" href="group__mmu.html#ga3108646fd68a371f496027b8a899ea18" title="Loads a page directory and enables paging. " alt="" coords="508,50,654,75"/>
<area shape="rect" id="node5" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1576,506,1726,544"/>
<area shape="rect" id="node7" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1998,484,2130,510"/>
<area shape="rect" id="node6" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1792,512,1942,538"/>
<area shape="rect" id="node9" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="726,354,921,379"/>
<area shape="rect" id="node28" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="747,202,901,240"/>
<area shape="rect" id="node10" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="984,354,1094,379"/>
<area shape="rect" id="node12" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1804,932,1931,958"/>
<area shape="rect" id="node13" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="976,492,1101,518"/>
<area shape="rect" id="node11" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="2185,459,2299,484"/>
<area shape="rect" id="node14" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="1161,506,1340,531"/>
<area shape="rect" id="node15" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1579,875,1723,900"/>
<area shape="rect" id="node18" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="1412,720,1495,746"/>
<area shape="rect" id="node25" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="1404,595,1503,620"/>
<area shape="rect" id="node16" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1787,870,1948,908"/>
<area shape="rect" id="node17" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1996,876,2132,902"/>
<area shape="rect" id="node19" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1608,771,1694,796"/>
<area shape="rect" id="node24" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1597,670,1705,695"/>
<area shape="rect" id="node20" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1812,614,1922,639"/>
<area shape="rect" id="node22" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="2024,663,2104,688"/>
<area shape="rect" id="node21" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="2002,614,2126,639"/>
<area shape="rect" id="node23" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="2180,663,2304,688"/>
<area shape="rect" id="node26" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1564,620,1739,646"/>
<area shape="rect" id="node27" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1827,663,1908,688"/>
<area shape="rect" id="node29" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="969,430,1109,455"/>
<area shape="rect" id="node33" href="group__isr.html#gabeba9dfd0275f78fc2a6c2aa44b2ed52" title="Returns whether interrupts are enabled or disabled. " alt="" coords="519,254,643,279"/>
</map>
</div>
</p>

<p><div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gaa4627b5873ec19276ccf28f254227c01_icgraph.png" border="0" usemap="#group__vmm_gaa4627b5873ec19276ccf28f254227c01_icgraph" alt=""/></div>
<map name="group__vmm_gaa4627b5873ec19276ccf28f254227c01_icgraph" id="group__vmm_gaa4627b5873ec19276ccf28f254227c01_icgraph">
<area shape="rect" id="node2" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="482,5,550,31"/>
<area shape="rect" id="node4" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="288,204,371,229"/>
<area shape="rect" id="node7" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="257,104,401,129"/>
<area shape="rect" id="node10" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="281,155,378,180"/>
<area shape="rect" id="node11" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="264,253,394,279"/>
<area shape="rect" id="node3" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="657,31,768,56"/>
<area shape="rect" id="node5" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="457,205,576,231"/>
<area shape="rect" id="node6" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="631,180,794,205"/>
<area shape="rect" id="node8" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="449,104,583,129"/>
<area shape="rect" id="node9" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="455,55,578,80"/>
<area shape="rect" id="node12" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="460,255,573,280"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab011b4635615c4046c5d0afc72c5ef25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_modify_page_directory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td>
          <td class="paramname"><em>new_directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a page directory for temporary modification. </p>
<p>Disables interrupts until <a class="el" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. ">vmm_modified_page_directory()</a> is called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_directory</td><td>the physical address of the page directory to be modified </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00149">149</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gab011b4635615c4046c5d0afc72c5ef25_cgraph.png" border="0" usemap="#group__vmm_gab011b4635615c4046c5d0afc72c5ef25_cgraph" alt=""/></div>
<map name="group__vmm_gab011b4635615c4046c5d0afc72c5ef25_cgraph" id="group__vmm_gab011b4635615c4046c5d0afc72c5ef25_cgraph">
<area shape="rect" id="node2" href="group__isr.html#ga0134a3b7354debd139c8fd0d7efc3e05" title="Enables or disables interrupts. " alt="" coords="262,32,408,57"/>
<area shape="rect" id="node4" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="246,132,424,157"/>
<area shape="rect" id="node3" href="group__isr.html#gabeba9dfd0275f78fc2a6c2aa44b2ed52" title="Returns whether interrupts are enabled or disabled. " alt="" coords="508,5,632,31"/>
<area shape="rect" id="node5" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="1146,360,1332,385"/>
<area shape="rect" id="node6" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1380,259,1505,284"/>
<area shape="rect" id="node10" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="472,311,667,336"/>
<area shape="rect" id="node32" href="group__mmu.html#ga5a8c2a23e92f9d6eaa5e472c0fe9c98f" title="Loads a page directory into the CR3 register. " alt="" coords="723,132,902,157"/>
<area shape="rect" id="node33" href="group__mmu.html#ga3108646fd68a371f496027b8a899ea18" title="Loads a page directory and enables paging. " alt="" coords="497,107,643,132"/>
<area shape="rect" id="node7" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1565,563,1715,601"/>
<area shape="rect" id="node9" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1987,541,2119,567"/>
<area shape="rect" id="node8" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1781,569,1931,595"/>
<area shape="rect" id="node11" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="715,411,910,436"/>
<area shape="rect" id="node30" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="735,304,889,343"/>
<area shape="rect" id="node12" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="973,411,1082,436"/>
<area shape="rect" id="node14" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1792,989,1920,1015"/>
<area shape="rect" id="node15" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="965,549,1090,575"/>
<area shape="rect" id="node13" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="2174,516,2288,541"/>
<area shape="rect" id="node16" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="1149,563,1329,588"/>
<area shape="rect" id="node17" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1568,932,1712,957"/>
<area shape="rect" id="node20" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="1401,777,1484,803"/>
<area shape="rect" id="node27" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="1393,652,1492,677"/>
<area shape="rect" id="node18" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1775,927,1937,965"/>
<area shape="rect" id="node19" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1985,933,2121,959"/>
<area shape="rect" id="node21" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1597,828,1683,853"/>
<area shape="rect" id="node26" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1586,727,1694,752"/>
<area shape="rect" id="node22" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1801,671,1911,696"/>
<area shape="rect" id="node24" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="2013,720,2093,745"/>
<area shape="rect" id="node23" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1991,671,2115,696"/>
<area shape="rect" id="node25" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="2169,720,2293,745"/>
<area shape="rect" id="node28" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1553,677,1727,703"/>
<area shape="rect" id="node29" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1815,720,1897,745"/>
<area shape="rect" id="node31" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="958,487,1098,512"/>
</map>
</div>
</p>

<p><div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gab011b4635615c4046c5d0afc72c5ef25_icgraph.png" border="0" usemap="#group__vmm_gab011b4635615c4046c5d0afc72c5ef25_icgraph" alt=""/></div>
<map name="group__vmm_gab011b4635615c4046c5d0afc72c5ef25_icgraph" id="group__vmm_gab011b4635615c4046c5d0afc72c5ef25_icgraph">
<area shape="rect" id="node2" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="471,5,539,31"/>
<area shape="rect" id="node4" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="277,204,359,229"/>
<area shape="rect" id="node7" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="246,104,390,129"/>
<area shape="rect" id="node10" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="270,155,367,180"/>
<area shape="rect" id="node11" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="253,253,383,279"/>
<area shape="rect" id="node3" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="645,31,757,56"/>
<area shape="rect" id="node5" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="446,205,564,231"/>
<area shape="rect" id="node6" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="620,180,782,205"/>
<area shape="rect" id="node8" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="438,104,572,129"/>
<area shape="rect" id="node9" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="443,55,567,80"/>
<area shape="rect" id="node12" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="449,255,562,280"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga83a06334c1c593e06779d150d1efc082"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vmm_refresh_page_directory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__vmm.html#gadeb6d1647eeda1844a2d3596a6e72b02">page_directory_t</a> *&#160;</td>
          <td class="paramname"><em>dir_phys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Refreshes the page directory entries that are shared across page directories. </p>
<p>All memory inside the kernel domain will be shared. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_phys</td><td>the physical address of the page directory to be refreshed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00112">112</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga83a06334c1c593e06779d150d1efc082_cgraph.png" border="0" usemap="#group__vmm_ga83a06334c1c593e06779d150d1efc082_cgraph" alt=""/></div>
<map name="group__vmm_ga83a06334c1c593e06779d150d1efc082_cgraph" id="group__vmm_ga83a06334c1c593e06779d150d1efc082_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="248,688,443,713"/>
<area shape="rect" id="node26" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="268,808,422,847"/>
<area shape="rect" id="node3" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1166,789,1290,815"/>
<area shape="rect" id="node4" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="714,688,823,713"/>
<area shape="rect" id="node10" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1380,5,1508,31"/>
<area shape="rect" id="node11" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="498,531,623,556"/>
<area shape="rect" id="node5" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1762,271,1876,296"/>
<area shape="rect" id="node6" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="906,637,1093,663"/>
<area shape="rect" id="node9" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1575,548,1707,573"/>
<area shape="rect" id="node7" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1153,472,1303,511"/>
<area shape="rect" id="node8" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1369,508,1519,533"/>
<area shape="rect" id="node12" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="679,423,858,448"/>
<area shape="rect" id="node13" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1156,91,1300,116"/>
<area shape="rect" id="node16" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="957,372,1041,397"/>
<area shape="rect" id="node23" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="950,423,1048,448"/>
<area shape="rect" id="node14" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1363,55,1525,93"/>
<area shape="rect" id="node15" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1573,61,1709,87"/>
<area shape="rect" id="node17" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1185,169,1271,195"/>
<area shape="rect" id="node22" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1174,423,1282,448"/>
<area shape="rect" id="node18" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1389,169,1499,195"/>
<area shape="rect" id="node20" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1601,120,1681,145"/>
<area shape="rect" id="node19" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1579,169,1703,195"/>
<area shape="rect" id="node21" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1757,120,1880,145"/>
<area shape="rect" id="node24" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1141,321,1315,347"/>
<area shape="rect" id="node25" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1403,271,1485,296"/>
<area shape="rect" id="node27" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="491,815,631,840"/>
</map>
</div>
</p>

<p><div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga83a06334c1c593e06779d150d1efc082_icgraph.png" border="0" usemap="#group__vmm_ga83a06334c1c593e06779d150d1efc082_icgraph" alt=""/></div>
<map name="group__vmm_ga83a06334c1c593e06779d150d1efc082_icgraph" id="group__vmm_ga83a06334c1c593e06779d150d1efc082_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="248,231,427,256"/>
<area shape="rect" id="node3" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="480,156,673,181"/>
<area shape="rect" id="node15" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="475,205,678,231"/>
<area shape="rect" id="node16" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="539,255,614,280"/>
<area shape="rect" id="node17" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="501,304,652,329"/>
<area shape="rect" id="node4" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="764,107,832,132"/>
<area shape="rect" id="node6" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="757,255,840,280"/>
<area shape="rect" id="node9" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="726,156,871,181"/>
<area shape="rect" id="node12" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="750,205,847,231"/>
<area shape="rect" id="node13" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="733,57,864,83"/>
<area shape="rect" id="node5" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1126,81,1238,107"/>
<area shape="rect" id="node7" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="926,257,1045,283"/>
<area shape="rect" id="node8" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1101,232,1263,257"/>
<area shape="rect" id="node10" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="919,156,1053,181"/>
<area shape="rect" id="node11" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="924,107,1047,132"/>
<area shape="rect" id="node14" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="929,5,1042,31"/>
<area shape="rect" id="node18" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="754,353,843,379"/>
<area shape="rect" id="node21" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="761,304,836,329"/>
<area shape="rect" id="node19" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="943,353,1028,379"/>
<area shape="rect" id="node20" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1152,353,1212,379"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga712a6069455f36990ea8af974ba0a1e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_unmap </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>_vaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmaps the given page from memory. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. ">vmm_map</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_vaddr</td><td>a virtual address in the page to be unmapped </td></tr>
  </table>
  </dd>
</dl>
<p>if the page table doesn't exist yet, does nothing.</p>
<p>If the page was not yet mapped, does nothing.</p>
<p>Removes the mapping.</p>
<p>Searches the page table for other present entries.</p>
<p>If there are none, the page table is freed. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00286">286</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga712a6069455f36990ea8af974ba0a1e3_cgraph.png" border="0" usemap="#group__vmm_ga712a6069455f36990ea8af974ba0a1e3_cgraph" alt=""/></div>
<map name="group__vmm_ga712a6069455f36990ea8af974ba0a1e3_cgraph" id="group__vmm_ga712a6069455f36990ea8af974ba0a1e3_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="164,5,314,31"/>
<area shape="rect" id="node4" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="152,55,326,80"/>
<area shape="rect" id="node9" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="185,104,293,129"/>
<area shape="rect" id="node3" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="374,5,506,31"/>
<area shape="rect" id="node5" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="400,55,481,80"/>
<area shape="rect" id="node6" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="554,55,634,80"/>
<area shape="rect" id="node7" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="687,29,801,55"/>
<area shape="rect" id="node8" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="682,79,806,104"/>
</map>
</div>
</p>

<p><div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga712a6069455f36990ea8af974ba0a1e3_icgraph.png" border="0" usemap="#group__vmm_ga712a6069455f36990ea8af974ba0a1e3_icgraph" alt=""/></div>
<map name="group__vmm_ga712a6069455f36990ea8af974ba0a1e3_icgraph" id="group__vmm_ga712a6069455f36990ea8af974ba0a1e3_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="152,300,331,325"/>
<area shape="rect" id="node3" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="386,200,511,225"/>
<area shape="rect" id="node32" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="379,400,519,425"/>
<area shape="rect" id="node4" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. " alt="" coords="567,321,762,347"/>
<area shape="rect" id="node11" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1552,231,1682,256"/>
<area shape="rect" id="node28" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="625,124,704,149"/>
<area shape="rect" id="node30" href="group__vmm.html#ga10b915c633d54e1f9284277256611276" title="Marks some page(s) as used and maps them into memory. " alt="" coords="1061,105,1239,131"/>
<area shape="rect" id="node31" href="group__vmm.html#ga8fa0f3af01af3d3ba544031afafa2d5f" title="Marks some page(s) as used and maps them somewhere into memory. " alt="" coords="1352,232,1437,257"/>
<area shape="rect" id="node5" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="1055,387,1245,412"/>
<area shape="rect" id="node13" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="810,451,1007,476"/>
<area shape="rect" id="node17" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="811,299,1005,324"/>
<area shape="rect" id="node6" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1357,380,1432,405"/>
<area shape="rect" id="node7" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1944,381,2056,407"/>
<area shape="rect" id="node8" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1544,332,1689,357"/>
<area shape="rect" id="node9" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1737,332,1871,357"/>
<area shape="rect" id="node10" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1742,381,1866,407"/>
<area shape="rect" id="node12" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1747,231,1860,256"/>
<area shape="rect" id="node14" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1568,556,1665,581"/>
<area shape="rect" id="node15" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1745,507,1863,532"/>
<area shape="rect" id="node16" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1919,532,2081,557"/>
<area shape="rect" id="node18" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="1060,299,1239,324"/>
<area shape="rect" id="node19" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="1298,331,1491,356"/>
<area shape="rect" id="node22" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="1293,281,1496,307"/>
<area shape="rect" id="node23" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="1319,29,1470,55"/>
<area shape="rect" id="node20" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1583,281,1651,307"/>
<area shape="rect" id="node21" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1575,507,1658,532"/>
<area shape="rect" id="node24" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1572,5,1661,31"/>
<area shape="rect" id="node27" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1579,55,1654,80"/>
<area shape="rect" id="node25" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1761,5,1847,31"/>
<area shape="rect" id="node26" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1970,5,2030,31"/>
<area shape="rect" id="node29" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="813,124,1003,149"/>
<area shape="rect" id="node33" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="587,393,741,432"/>
<area shape="rect" id="node34" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="1354,532,1435,557"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga26bea35e9465b7d5f4cb6db78bcb3aff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_unmap_physical_memory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If necessary, unmaps the given page(s) from memory. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__vmm.html#ga37cd05a420e7bbc80e9df22d1d7a8661" title="If necessary, maps the given page(s) somewhere into memory. ">vmm_map_physical_memory</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>a virtual address in the first page to be unmapped </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be unmapped </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00456">456</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_cgraph.png" border="0" usemap="#group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_cgraph" alt=""/></div>
<map name="group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_cgraph" id="group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_cgraph">
<area shape="rect" id="node2" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="215,164,339,190"/>
<area shape="rect" id="node3" href="group__vmm.html#ga76fc2abe20698540ecc6ab14ac393785" title="Unmaps the given page(s) from memory. " alt="" coords="207,214,347,239"/>
<area shape="rect" id="node4" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="395,214,574,239"/>
<area shape="rect" id="node5" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="784,112,928,138"/>
<area shape="rect" id="node9" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1390,163,1504,188"/>
<area shape="rect" id="node10" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="630,264,713,290"/>
<area shape="rect" id="node14" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1203,264,1335,290"/>
<area shape="rect" id="node20" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="622,454,721,479"/>
<area shape="rect" id="node6" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="992,50,1153,88"/>
<area shape="rect" id="node8" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1009,112,1136,138"/>
<area shape="rect" id="node7" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1201,56,1337,82"/>
<area shape="rect" id="node11" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="813,264,899,290"/>
<area shape="rect" id="node17" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="998,370,1147,395"/>
<area shape="rect" id="node18" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="781,366,931,404"/>
<area shape="rect" id="node19" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="802,428,910,454"/>
<area shape="rect" id="node12" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1017,214,1127,239"/>
<area shape="rect" id="node15" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1229,315,1309,340"/>
<area shape="rect" id="node13" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1207,214,1331,239"/>
<area shape="rect" id="node16" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1385,315,1509,340"/>
<area shape="rect" id="node21" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="769,530,944,555"/>
<area shape="rect" id="node22" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1032,512,1113,538"/>
</map>
</div>
</p>

<p><div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_icgraph.png" border="0" usemap="#group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_icgraph" alt=""/></div>
<map name="group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_icgraph" id="group__vmm_ga26bea35e9465b7d5f4cb6db78bcb3aff_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="702,156,892,181"/>
<area shape="rect" id="node10" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="450,329,647,355"/>
<area shape="rect" id="node14" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="207,261,402,287"/>
<area shape="rect" id="node3" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="982,5,1056,31"/>
<area shape="rect" id="node4" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1346,107,1458,132"/>
<area shape="rect" id="node5" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="947,156,1091,181"/>
<area shape="rect" id="node8" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="954,205,1084,231"/>
<area shape="rect" id="node6" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1139,156,1273,181"/>
<area shape="rect" id="node7" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1144,107,1268,132"/>
<area shape="rect" id="node9" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1149,205,1263,231"/>
<area shape="rect" id="node11" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="970,353,1067,379"/>
<area shape="rect" id="node12" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1147,307,1265,332"/>
<area shape="rect" id="node13" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1321,332,1483,357"/>
<area shape="rect" id="node15" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="459,261,638,287"/>
<area shape="rect" id="node16" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="701,229,893,255"/>
<area shape="rect" id="node19" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="695,279,899,304"/>
<area shape="rect" id="node20" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="721,404,872,429"/>
<area shape="rect" id="node17" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="985,255,1053,280"/>
<area shape="rect" id="node18" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="977,304,1060,329"/>
<area shape="rect" id="node21" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="974,404,1064,429"/>
<area shape="rect" id="node24" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="982,453,1056,479"/>
<area shape="rect" id="node22" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1163,408,1249,433"/>
<area shape="rect" id="node23" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1372,408,1432,433"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga76fc2abe20698540ecc6ab14ac393785"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_unmap_range </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmaps the given page(s) from memory. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. ">vmm_map_range</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>a virtual address in the first page to be unmapped </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be unmapped </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00352">352</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga76fc2abe20698540ecc6ab14ac393785_cgraph.png" border="0" usemap="#group__vmm_ga76fc2abe20698540ecc6ab14ac393785_cgraph" alt=""/></div>
<map name="group__vmm_ga76fc2abe20698540ecc6ab14ac393785_cgraph" id="group__vmm_ga76fc2abe20698540ecc6ab14ac393785_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="193,214,372,239"/>
<area shape="rect" id="node3" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="582,112,726,138"/>
<area shape="rect" id="node7" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1188,163,1302,188"/>
<area shape="rect" id="node8" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="428,264,511,290"/>
<area shape="rect" id="node12" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1001,264,1133,290"/>
<area shape="rect" id="node18" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="420,454,519,479"/>
<area shape="rect" id="node4" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="790,50,951,88"/>
<area shape="rect" id="node6" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="807,112,934,138"/>
<area shape="rect" id="node5" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="999,56,1135,82"/>
<area shape="rect" id="node9" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="611,264,697,290"/>
<area shape="rect" id="node15" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="796,370,945,395"/>
<area shape="rect" id="node16" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="579,366,729,404"/>
<area shape="rect" id="node17" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="600,428,708,454"/>
<area shape="rect" id="node10" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="815,214,925,239"/>
<area shape="rect" id="node13" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1027,315,1107,340"/>
<area shape="rect" id="node11" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1005,214,1129,239"/>
<area shape="rect" id="node14" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1183,315,1307,340"/>
<area shape="rect" id="node19" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="567,530,742,555"/>
<area shape="rect" id="node20" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="830,512,911,538"/>
</map>
</div>
</p>

<p><div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga76fc2abe20698540ecc6ab14ac393785_icgraph.png" border="0" usemap="#group__vmm_ga76fc2abe20698540ecc6ab14ac393785_icgraph" alt=""/></div>
<map name="group__vmm_ga76fc2abe20698540ecc6ab14ac393785_icgraph" id="group__vmm_ga76fc2abe20698540ecc6ab14ac393785_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga26bea35e9465b7d5f4cb6db78bcb3aff" title="If necessary, unmaps the given page(s) from memory. " alt="" coords="193,271,347,309"/>
<area shape="rect" id="node26" href="group__vmm.html#ga75aa07ed605b2e381cdd80fdae0ee126" title="Frees the given page(s) and unmaps them from memory. " alt="" coords="944,356,1025,381"/>
<area shape="rect" id="node3" href="group__vmm.html#ga5b75ab1673d9bebdbe2f8e07759ce75d" title="Creates an empty page directory. " alt="" coords="890,156,1080,181"/>
<area shape="rect" id="node11" href="group__vmm.html#gaab7f4a02de246b1d5d5728f19b25a5e6" title="Destroys a page directory. " alt="" coords="638,305,835,331"/>
<area shape="rect" id="node15" href="group__vmm.html#ga83a06334c1c593e06779d150d1efc082" title="Refreshes the page directory entries that are shared across page directories. " alt="" coords="395,255,590,280"/>
<area shape="rect" id="node4" href="group__vmm.html#gadef373f9b9c3be4e9176224263fa4335" title="Initializes the VMM. " alt="" coords="1169,5,1244,31"/>
<area shape="rect" id="node5" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="1534,107,1646,132"/>
<area shape="rect" id="node6" href="group__task.html#ga6889ecd06c51d1debc57ba9e0317a734" title="Creates a task. " alt="" coords="1135,156,1279,181"/>
<area shape="rect" id="node9" href="group__vm86.html#gadc3f4bd03c6bdafbdef4df17f1b7c19d" title="Creates a VM86 task. " alt="" coords="1142,205,1272,231"/>
<area shape="rect" id="node7" href="group__task.html#gac3f74053067bb4dfb9298aeb8080dc44" title="Creates a kernel task. " alt="" coords="1327,156,1461,181"/>
<area shape="rect" id="node8" href="group__task.html#ga283a67e6d57dbd0f6c3c7eecc44e687a" title="Creates a user task. " alt="" coords="1332,107,1456,132"/>
<area shape="rect" id="node10" href="group__vm86.html#gace8fed2c01cb34bf58e81e0648586e14" title="Calls a BIOS interrupt. " alt="" coords="1337,205,1451,231"/>
<area shape="rect" id="node12" href="group__task.html#gac141a8f668ca44faf8f2cee286bdcf9d" title="Destroys a task. " alt="" coords="1158,353,1255,379"/>
<area shape="rect" id="node13" href="group__elf.html#ga75bec924ac71c3508f102cac452c67b3" title="Destroys a user task running the code of an ELF file. " alt="" coords="1335,307,1453,332"/>
<area shape="rect" id="node14" href="group__schedule.html#ga02fdfade63241289317a425497eb3927" title="Destroys tasks marked for removal. " alt="" coords="1509,332,1671,357"/>
<area shape="rect" id="node16" href="group__vmm.html#gae21ea3cbc0bddb5ade0251b4bfb2946c" title="Loads a new page directory. " alt="" coords="647,255,826,280"/>
<area shape="rect" id="node17" href="group__vmm.html#gab011b4635615c4046c5d0afc72c5ef25" title="Loads a page directory for temporary modification. " alt="" coords="889,205,1081,231"/>
<area shape="rect" id="node20" href="group__vmm.html#gaa4627b5873ec19276ccf28f254227c01" title="Ends a page directory modification. " alt="" coords="883,255,1087,280"/>
<area shape="rect" id="node21" href="group__schedule.html#gac59d1d10987a51bef5b01671b6a62c7f" title="Switches to a given task. " alt="" coords="909,407,1060,432"/>
<area shape="rect" id="node18" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="1173,255,1241,280"/>
<area shape="rect" id="node19" href="group__elf.html#ga3f7773dbbddb1093ffe601fac1856b75" title="Frees the segments of an ELF file in memory. " alt="" coords="1165,304,1248,329"/>
<area shape="rect" id="node22" href="group__syscall.html#gaffd7e43e2a985f84ce5db41e84012e36" title="Exits the current task. " alt="" coords="1162,407,1252,432"/>
<area shape="rect" id="node25" href="group__schedule.html#ga65f91e59df9210da417db34e224044a2" title="Returns the next task to run. " alt="" coords="1169,456,1244,481"/>
<area shape="rect" id="node23" href="group__syscall.html#ga581ed37968ead91b6d3a0b3b7a71da9d" title="Initializes the syscall interface. " alt="" coords="1351,408,1437,433"/>
<area shape="rect" id="node24" href="group__isr.html#ga2ea31f33125954459edbe7f4d7971ffa" title="Initializes syscalls and enables interrupts. " alt="" coords="1560,408,1620,433"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad1e8bf6d477409b2365a056c29afafd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmm_use </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the given page(s) as used and maps them into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>a virtual address in the first page to map from </td></tr>
    <tr><td class="paramname">paddr</td><td>a physical address in the first page to map to </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be mapped </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00468">468</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gad1e8bf6d477409b2365a056c29afafd9_cgraph.png" border="0" usemap="#group__vmm_gad1e8bf6d477409b2365a056c29afafd9_cgraph" alt=""/></div>
<map name="group__vmm_gad1e8bf6d477409b2365a056c29afafd9_cgraph" id="group__vmm_gad1e8bf6d477409b2365a056c29afafd9_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="718,511,862,537"/>
<area shape="rect" id="node6" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1163,145,1243,170"/>
<area shape="rect" id="node9" href="group__vmm.html#ga94d0d5a556b0b3fe234349138fa1ba2d" title="Translates VMM into PMM flags. " alt="" coords="132,245,281,270"/>
<area shape="rect" id="node10" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="144,195,269,221"/>
<area shape="rect" id="node3" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="926,561,1087,599"/>
<area shape="rect" id="node5" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="943,511,1070,537"/>
<area shape="rect" id="node4" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1135,567,1271,593"/>
<area shape="rect" id="node7" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1324,170,1438,195"/>
<area shape="rect" id="node8" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1319,121,1443,146"/>
<area shape="rect" id="node11" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="329,195,508,221"/>
<area shape="rect" id="node12" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="564,354,647,379"/>
<area shape="rect" id="node16" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1137,229,1269,254"/>
<area shape="rect" id="node20" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="556,195,655,221"/>
<area shape="rect" id="node13" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="747,410,833,435"/>
<area shape="rect" id="node17" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="932,258,1081,283"/>
<area shape="rect" id="node18" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="715,347,865,386"/>
<area shape="rect" id="node19" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="736,246,844,271"/>
<area shape="rect" id="node14" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="951,406,1061,431"/>
<area shape="rect" id="node15" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1141,406,1265,431"/>
<area shape="rect" id="node21" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="703,145,878,170"/>
<area shape="rect" id="node22" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="966,145,1047,170"/>
</map>
</div>
</p>

<p><div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_gad1e8bf6d477409b2365a056c29afafd9_icgraph.png" border="0" usemap="#group__vmm_gad1e8bf6d477409b2365a056c29afafd9_icgraph" alt=""/></div>
<map name="group__vmm_gad1e8bf6d477409b2365a056c29afafd9_icgraph" id="group__vmm_gad1e8bf6d477409b2365a056c29afafd9_icgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga7555fa9d1cba25633588a82d2622f55f" title="Marks the given page(s) as used and maps them somewhere into memory. " alt="" coords="132,5,323,31"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7555fa9d1cba25633588a82d2622f55f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * vmm_use_physical_memory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the given page(s) as used and maps them somewhere into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">paddr</td><td>a physical address in the first page to map to </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be mapped </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the virtual address of the newly mapped memory </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00481">481</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga7555fa9d1cba25633588a82d2622f55f_cgraph.png" border="0" usemap="#group__vmm_ga7555fa9d1cba25633588a82d2622f55f_cgraph" alt=""/></div>
<map name="group__vmm_ga7555fa9d1cba25633588a82d2622f55f_cgraph" id="group__vmm_ga7555fa9d1cba25633588a82d2622f55f_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#gac9b3b29083204cd04643f125d9cc4447" title="Finds unmapped pages. " alt="" coords="602,180,712,205"/>
<area shape="rect" id="node9" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1269,727,1396,752"/>
<area shape="rect" id="node10" href="group__vmm.html#gad1e8bf6d477409b2365a056c29afafd9" title="Marks the given page(s) as used and maps them into memory. " alt="" coords="244,647,323,672"/>
<area shape="rect" id="node3" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1650,259,1764,284"/>
<area shape="rect" id="node4" href="group__vmm.html#gae24357af46126c4386fa4799eb660854" title="Translates a virtual address into a physical address. " alt="" coords="795,155,981,180"/>
<area shape="rect" id="node8" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1464,297,1595,323"/>
<area shape="rect" id="node5" href="group__mmu.html#gaaf33eb687179f89ce91453795e9a6884" title="Returns whether paging is enabled or disabled. " alt="" coords="1055,155,1179,180"/>
<area shape="rect" id="node6" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="1042,307,1191,345"/>
<area shape="rect" id="node7" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1258,325,1408,351"/>
<area shape="rect" id="node11" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="1045,672,1189,697"/>
<area shape="rect" id="node14" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1490,588,1570,613"/>
<area shape="rect" id="node16" href="group__vmm.html#ga94d0d5a556b0b3fe234349138fa1ba2d" title="Translates VMM into PMM flags. " alt="" coords="371,621,520,647"/>
<area shape="rect" id="node17" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="383,523,508,548"/>
<area shape="rect" id="node12" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1252,664,1413,703"/>
<area shape="rect" id="node13" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1461,671,1598,696"/>
<area shape="rect" id="node15" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1646,588,1769,613"/>
<area shape="rect" id="node18" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="568,496,747,521"/>
<area shape="rect" id="node19" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="846,521,930,547"/>
<area shape="rect" id="node24" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="839,472,937,497"/>
<area shape="rect" id="node20" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="1074,623,1160,648"/>
<area shape="rect" id="node23" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="1063,521,1171,547"/>
<area shape="rect" id="node21" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1278,513,1388,539"/>
<area shape="rect" id="node22" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1467,513,1592,539"/>
<area shape="rect" id="node25" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="1029,472,1204,497"/>
<area shape="rect" id="node26" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1292,563,1373,588"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga10b915c633d54e1f9284277256611276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * vmm_use_virtual_memory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vmm.html#ga73fc2ab9b3d2e673d34b9a49f65cafcc">vmm_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks some page(s) as used and maps them into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vaddr</td><td>a virtual address in the first page to map from </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be mapped </td></tr>
    <tr><td class="paramname">flags</td><td>the flags for mapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the physical address of the newly mapped memory </dd></dl>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00496">496</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

<p><div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga10b915c633d54e1f9284277256611276_cgraph.png" border="0" usemap="#group__vmm_ga10b915c633d54e1f9284277256611276_cgraph" alt=""/></div>
<map name="group__vmm_ga10b915c633d54e1f9284277256611276_cgraph" id="group__vmm_ga10b915c633d54e1f9284277256611276_cgraph">
<area shape="rect" id="node2" href="group__vmm.html#ga408e67ff0d3c015f67a04d649a193677" title="Checks whether a virtual address might be accessed with the given flags. " alt="" coords="817,68,961,93"/>
<area shape="rect" id="node6" href="group__pmm.html#gab88d4741ffdf121265ccc7a47aa06be3" title="Allocates page frames. " alt="" coords="846,537,932,563"/>
<area shape="rect" id="node13" href="group__vmm.html#ga94d0d5a556b0b3fe234349138fa1ba2d" title="Translates VMM into PMM flags. " alt="" coords="231,588,380,613"/>
<area shape="rect" id="node14" href="group__vmm.html#gafe1dd6fb39c3e7a95f03828bcf01bebe" title="Maps the given page(s) into memory. " alt="" coords="243,399,368,424"/>
<area shape="rect" id="node3" href="group__vmm.html#gae814d9b3e619cc1b3acaa94a336157c8" title="Returns the domain a virtual address belongs to. " alt="" coords="1024,5,1186,44"/>
<area shape="rect" id="node5" href="group__vmm.html#gab536804df3329c431fdf5c4486f09c23" title="Extracts a domain from the given flags. " alt="" coords="1041,68,1169,93"/>
<area shape="rect" id="node4" href="group__vmm.html#gaa0f722ed8ab308a12be211f1ef561143" title="Returns whether a virtual address belongs to a given domain. " alt="" coords="1234,12,1370,37"/>
<area shape="rect" id="node7" href="group__pmm.html#ga7fea33d2f72598f45f4e85f41534ccfa" title="Finds free page frames. " alt="" coords="1050,537,1160,563"/>
<area shape="rect" id="node10" href="group__pmm.html#ga71675c8083936fe4c7066c9eda8c5a53" title="Marks page frames for a given memory range as used or unused. " alt="" coords="1262,587,1342,612"/>
<area shape="rect" id="node8" href="group__pmm.html#gafa8dcde21f682f3a42a163781152a68b" title="Returns a bitmap entry. " alt="" coords="1239,537,1364,563"/>
<area shape="rect" id="node9" href="group__pmm.html#gad391adf0e0bfb5312b735ee87c0c7774" title="Returns a memory address belonging to a given page. " alt="" coords="1236,461,1368,487"/>
<area shape="rect" id="node11" href="group__pmm.html#ga23e6a7808d715af89d32c53c006a4636" title="Returns to which page a given memory address belongs. " alt="" coords="1423,169,1537,195"/>
<area shape="rect" id="node12" href="group__pmm.html#ga2af94bf7238dce2d9292635e69cbc56e" title="Sets a bitmap entry to a value. " alt="" coords="1418,587,1541,612"/>
<area shape="rect" id="node15" href="group__vmm.html#ga36be7c83d887d2111b317b5ac796916f" title="Maps or unmaps the given page(s) into memory. " alt="" coords="428,323,607,348"/>
<area shape="rect" id="node16" href="group__vmm.html#ga3e7053cfb721b4d0e489b95df9063ad5" title="Maps the given page into memory. " alt="" coords="662,284,746,309"/>
<area shape="rect" id="node20" href="group__vmm.html#ga712a6069455f36990ea8af974ba0a1e3" title="Unmaps the given page from memory. " alt="" coords="655,360,753,385"/>
<area shape="rect" id="node17" href="group__vmm.html#ga4ec502fa0597ddc39ccefc5e41ed7068" title="Returns a virtual or physical address to a page table in memory. " alt="" coords="1030,335,1180,360"/>
<area shape="rect" id="node18" href="group__vmm.html#gaca2ad6adc3d01b4f69741bb3063b44bb" title="Returns a virtual or physical address to a page table entry in memory. " alt="" coords="814,220,964,259"/>
<area shape="rect" id="node19" href="group__mmu.html#gad103653c8eb7655d46156dff6c76b401" title="Flushes the Translation Lookaside Buffer for the given page. " alt="" coords="835,335,943,360"/>
<area shape="rect" id="node21" href="group__vmm.html#ga29929b27b1ddfc99ab409bb3149df217" title="Destroys a page table in the current page directory. " alt="" coords="801,436,976,461"/>
<area shape="rect" id="node22" href="group__pmm.html#ga71cab475c600b07e6ae2c34af4b65843" title="Frees page frames. " alt="" coords="1064,587,1146,612"/>
</map>
</div>
</p>

<p><div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__vmm_ga10b915c633d54e1f9284277256611276_icgraph.png" border="0" usemap="#group__vmm_ga10b915c633d54e1f9284277256611276_icgraph" alt=""/></div>
<map name="group__vmm_ga10b915c633d54e1f9284277256611276_icgraph" id="group__vmm_ga10b915c633d54e1f9284277256611276_icgraph">
<area shape="rect" id="node2" href="group__elf.html#gaea989585797c9844fdefd0ee9608045d" title="Loads the segments of an ELF file into memory. " alt="" coords="231,5,299,31"/>
<area shape="rect" id="node3" href="group__elf.html#ga4bcec1f99a7491663c79aeb376a51878" title="Creates a user task running the code of an ELF file. " alt="" coords="347,5,459,31"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gabe6b0fd20897529ef29fb891436d3746"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> kernel_domain</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {.start = (<span class="keywordtype">void</span>*) 0x400000,</div><div class="line">    .end = (<span class="keywordtype">void</span>*) 0x3FFFFFFF}</div></div><!-- fragment -->
<p>We use 0-1GiB as kernel memory. </p>
<p>This will be mapped into all processes. We exclude the first page table so we can use it freely for VM86. </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00049">49</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabcb5f15c03ff4ee10ec6c31adab63457"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvmm__domain__t.html">vmm_domain_t</a> user_domain</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {.start = (<span class="keywordtype">void</span>*) 0x40000000,</div><div class="line">    .end = (<span class="keywordtype">void</span>*) 0xFFFFFFFF - <a class="code" href="group__vmm.html#ga5f2e1fcf0055d20ce17664b1027bb9eb">ENTRIES</a> * <a class="code" href="group__vmm.html#ga7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>}</div><div class="ttc" id="group__vmm_html_ga7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="group__vmm.html#ga7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdoc">The number of bytes per page directory &quot;happens&quot; to equal the size of a page. </div><div class="ttdef"><b>Definition:</b> <a href="vmm_8c_source.html#l00023">vmm.c:23</a></div></div>
<div class="ttc" id="group__vmm_html_ga5f2e1fcf0055d20ce17664b1027bb9eb"><div class="ttname"><a href="group__vmm.html#ga5f2e1fcf0055d20ce17664b1027bb9eb">ENTRIES</a></div><div class="ttdeci">#define ENTRIES</div><div class="ttdoc">number of entries in page directories and tables </div><div class="ttdef"><b>Definition:</b> <a href="vmm_8c_source.html#l00021">vmm.c:21</a></div></div>
</div><!-- fragment -->
<p>The memory 1GiB-4GiB is process-specific. </p>
<p>Process images are loaded to 1GiB. The last page table is excluded (it contains the page directory and tables). </p>

<p>Definition at line <a class="el" href="vmm_8c_source.html#l00053">53</a> of file <a class="el" href="vmm_8c_source.html">vmm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
